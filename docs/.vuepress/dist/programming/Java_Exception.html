<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>예외처리 | 끄적끄적 블로그</title>
    <meta name="description" content="개발 관련 블로그">
    <link rel="icon" href="/study-collection/favicon.ico">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons">
    
    <link rel="preload" href="/study-collection/assets/css/0.styles.48760978.css" as="style"><link rel="preload" href="/study-collection/assets/js/app.deb005b6.js" as="script"><link rel="preload" href="/study-collection/assets/js/2.45aa8523.js" as="script"><link rel="preload" href="/study-collection/assets/js/74.c92a1f6b.js" as="script"><link rel="prefetch" href="/study-collection/assets/js/10.b0c7ab46.js"><link rel="prefetch" href="/study-collection/assets/js/100.d7f6679d.js"><link rel="prefetch" href="/study-collection/assets/js/101.9a51b26d.js"><link rel="prefetch" href="/study-collection/assets/js/102.e43dd3fc.js"><link rel="prefetch" href="/study-collection/assets/js/103.72dee5eb.js"><link rel="prefetch" href="/study-collection/assets/js/104.2b986d46.js"><link rel="prefetch" href="/study-collection/assets/js/105.671df2f4.js"><link rel="prefetch" href="/study-collection/assets/js/106.a126da57.js"><link rel="prefetch" href="/study-collection/assets/js/107.451caaa9.js"><link rel="prefetch" href="/study-collection/assets/js/108.4fcdf718.js"><link rel="prefetch" href="/study-collection/assets/js/109.7a761d6a.js"><link rel="prefetch" href="/study-collection/assets/js/11.3cc4f4e2.js"><link rel="prefetch" href="/study-collection/assets/js/110.c5fa4c0e.js"><link rel="prefetch" href="/study-collection/assets/js/111.cd020cf3.js"><link rel="prefetch" href="/study-collection/assets/js/112.d76aa607.js"><link rel="prefetch" href="/study-collection/assets/js/113.bc3d488c.js"><link rel="prefetch" href="/study-collection/assets/js/114.3cf05a20.js"><link rel="prefetch" href="/study-collection/assets/js/115.4faafa38.js"><link rel="prefetch" href="/study-collection/assets/js/116.1db0aef6.js"><link rel="prefetch" href="/study-collection/assets/js/117.1a2e50b6.js"><link rel="prefetch" href="/study-collection/assets/js/118.2f264281.js"><link rel="prefetch" href="/study-collection/assets/js/119.c248dac5.js"><link rel="prefetch" href="/study-collection/assets/js/12.7f1aa4cd.js"><link rel="prefetch" href="/study-collection/assets/js/120.f5c5a6a7.js"><link rel="prefetch" href="/study-collection/assets/js/121.dd050841.js"><link rel="prefetch" href="/study-collection/assets/js/122.b01abe41.js"><link rel="prefetch" href="/study-collection/assets/js/123.104bf29d.js"><link rel="prefetch" href="/study-collection/assets/js/124.e7594f06.js"><link rel="prefetch" href="/study-collection/assets/js/125.4aecabd7.js"><link rel="prefetch" href="/study-collection/assets/js/126.967b4113.js"><link rel="prefetch" href="/study-collection/assets/js/127.d27f267b.js"><link rel="prefetch" href="/study-collection/assets/js/128.860e20e8.js"><link rel="prefetch" href="/study-collection/assets/js/129.c9c3d582.js"><link rel="prefetch" href="/study-collection/assets/js/13.83073142.js"><link rel="prefetch" href="/study-collection/assets/js/130.e5120122.js"><link rel="prefetch" href="/study-collection/assets/js/131.7a738666.js"><link rel="prefetch" href="/study-collection/assets/js/132.8d9e8376.js"><link rel="prefetch" href="/study-collection/assets/js/133.e145cb93.js"><link rel="prefetch" href="/study-collection/assets/js/14.ca686ec5.js"><link rel="prefetch" href="/study-collection/assets/js/15.f4eced48.js"><link rel="prefetch" href="/study-collection/assets/js/16.d2251c89.js"><link rel="prefetch" href="/study-collection/assets/js/17.d984da7e.js"><link rel="prefetch" href="/study-collection/assets/js/18.aeb33e13.js"><link rel="prefetch" href="/study-collection/assets/js/19.d8925a59.js"><link rel="prefetch" href="/study-collection/assets/js/20.378d1726.js"><link rel="prefetch" href="/study-collection/assets/js/21.d0dbf740.js"><link rel="prefetch" href="/study-collection/assets/js/22.e1af8a9b.js"><link rel="prefetch" href="/study-collection/assets/js/23.422fd76e.js"><link rel="prefetch" href="/study-collection/assets/js/24.3b4aa481.js"><link rel="prefetch" href="/study-collection/assets/js/25.feacaa20.js"><link rel="prefetch" href="/study-collection/assets/js/26.f5fc87dc.js"><link rel="prefetch" href="/study-collection/assets/js/27.39f4b123.js"><link rel="prefetch" href="/study-collection/assets/js/28.11bb8ca7.js"><link rel="prefetch" href="/study-collection/assets/js/29.4abbcb99.js"><link rel="prefetch" href="/study-collection/assets/js/3.c1a875f8.js"><link rel="prefetch" href="/study-collection/assets/js/30.ee2980a4.js"><link rel="prefetch" href="/study-collection/assets/js/31.12a713f4.js"><link rel="prefetch" href="/study-collection/assets/js/32.05be989f.js"><link rel="prefetch" href="/study-collection/assets/js/33.1fcdb025.js"><link rel="prefetch" href="/study-collection/assets/js/34.5b0f9e3f.js"><link rel="prefetch" href="/study-collection/assets/js/35.42bb0b50.js"><link rel="prefetch" href="/study-collection/assets/js/36.0bbca37b.js"><link rel="prefetch" href="/study-collection/assets/js/37.b220c258.js"><link rel="prefetch" href="/study-collection/assets/js/38.1d71b35c.js"><link rel="prefetch" href="/study-collection/assets/js/39.0a8ad878.js"><link rel="prefetch" href="/study-collection/assets/js/4.65f94cff.js"><link rel="prefetch" href="/study-collection/assets/js/40.1eeff28c.js"><link rel="prefetch" href="/study-collection/assets/js/41.781dd2ff.js"><link rel="prefetch" href="/study-collection/assets/js/42.420be4b8.js"><link rel="prefetch" href="/study-collection/assets/js/43.2f0fe466.js"><link rel="prefetch" href="/study-collection/assets/js/44.bb1173d0.js"><link rel="prefetch" href="/study-collection/assets/js/45.eddf3e02.js"><link rel="prefetch" href="/study-collection/assets/js/46.b6d47441.js"><link rel="prefetch" href="/study-collection/assets/js/47.fd8fbb85.js"><link rel="prefetch" href="/study-collection/assets/js/48.44112945.js"><link rel="prefetch" href="/study-collection/assets/js/49.d6d51f78.js"><link rel="prefetch" href="/study-collection/assets/js/5.b3baf09e.js"><link rel="prefetch" href="/study-collection/assets/js/50.b626d932.js"><link rel="prefetch" href="/study-collection/assets/js/51.a38ef255.js"><link rel="prefetch" href="/study-collection/assets/js/52.9688108d.js"><link rel="prefetch" href="/study-collection/assets/js/53.9f4432db.js"><link rel="prefetch" href="/study-collection/assets/js/54.fcf2a84d.js"><link rel="prefetch" href="/study-collection/assets/js/55.071c630d.js"><link rel="prefetch" href="/study-collection/assets/js/56.bb82a731.js"><link rel="prefetch" href="/study-collection/assets/js/57.af01318b.js"><link rel="prefetch" href="/study-collection/assets/js/58.54cc8100.js"><link rel="prefetch" href="/study-collection/assets/js/59.727b8866.js"><link rel="prefetch" href="/study-collection/assets/js/6.e1245c47.js"><link rel="prefetch" href="/study-collection/assets/js/60.855c8707.js"><link rel="prefetch" href="/study-collection/assets/js/61.484ab9a7.js"><link rel="prefetch" href="/study-collection/assets/js/62.8dd44705.js"><link rel="prefetch" href="/study-collection/assets/js/63.652f9c96.js"><link rel="prefetch" href="/study-collection/assets/js/64.7e066a8b.js"><link rel="prefetch" href="/study-collection/assets/js/65.ab226304.js"><link rel="prefetch" href="/study-collection/assets/js/66.896898b9.js"><link rel="prefetch" href="/study-collection/assets/js/67.fdf4f1ce.js"><link rel="prefetch" href="/study-collection/assets/js/68.d50aa65a.js"><link rel="prefetch" href="/study-collection/assets/js/69.6422fd68.js"><link rel="prefetch" href="/study-collection/assets/js/7.79876120.js"><link rel="prefetch" href="/study-collection/assets/js/70.e798ba66.js"><link rel="prefetch" href="/study-collection/assets/js/71.602507bc.js"><link rel="prefetch" href="/study-collection/assets/js/72.1e0b2bdf.js"><link rel="prefetch" href="/study-collection/assets/js/73.c4a65902.js"><link rel="prefetch" href="/study-collection/assets/js/75.58f03e42.js"><link rel="prefetch" href="/study-collection/assets/js/76.0510c97b.js"><link rel="prefetch" href="/study-collection/assets/js/77.642624d1.js"><link rel="prefetch" href="/study-collection/assets/js/78.2b3bb770.js"><link rel="prefetch" href="/study-collection/assets/js/79.3f1ee3e3.js"><link rel="prefetch" href="/study-collection/assets/js/8.2c57cd8d.js"><link rel="prefetch" href="/study-collection/assets/js/80.6050b34a.js"><link rel="prefetch" href="/study-collection/assets/js/81.d3766a8d.js"><link rel="prefetch" href="/study-collection/assets/js/82.7463af13.js"><link rel="prefetch" href="/study-collection/assets/js/83.d7a0702d.js"><link rel="prefetch" href="/study-collection/assets/js/84.910afe03.js"><link rel="prefetch" href="/study-collection/assets/js/85.1281d0cd.js"><link rel="prefetch" href="/study-collection/assets/js/86.21a41176.js"><link rel="prefetch" href="/study-collection/assets/js/87.95c48bfd.js"><link rel="prefetch" href="/study-collection/assets/js/88.6fdbbe12.js"><link rel="prefetch" href="/study-collection/assets/js/89.dde89826.js"><link rel="prefetch" href="/study-collection/assets/js/9.e48d6974.js"><link rel="prefetch" href="/study-collection/assets/js/90.45124f59.js"><link rel="prefetch" href="/study-collection/assets/js/91.2f243f99.js"><link rel="prefetch" href="/study-collection/assets/js/92.99acdef4.js"><link rel="prefetch" href="/study-collection/assets/js/93.c930c8a3.js"><link rel="prefetch" href="/study-collection/assets/js/94.7124e539.js"><link rel="prefetch" href="/study-collection/assets/js/95.7bda7cbf.js"><link rel="prefetch" href="/study-collection/assets/js/96.9f3a0ed4.js"><link rel="prefetch" href="/study-collection/assets/js/97.bdc28e7f.js"><link rel="prefetch" href="/study-collection/assets/js/98.742a4d10.js"><link rel="prefetch" href="/study-collection/assets/js/99.c3b2ebf1.js">
    <link rel="stylesheet" href="/study-collection/assets/css/0.styles.48760978.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/study-collection/" class="home-link router-link-active"><!----> <span class="site-name">끄적끄적 블로그</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/study-collection/guide.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://github.com/gwegwe1234/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/study-collection/guide.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://github.com/gwegwe1234/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/study-collection/guide.html" class="sidebar-link">Intro</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Book summary</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Tech</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Programming</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study-collection/programming/Java_summary.html" class="sidebar-link">Java 공부 정리</a></li><li><a href="/study-collection/programming/Web_Basic.html" class="sidebar-link">Web 기초지식정리</a></li><li><a href="/study-collection/programming/Spring_badSummary1.html" class="sidebar-link">마구잡이 스프링정리1</a></li><li><a href="/study-collection/programming/Spring_badSummary2.html" class="sidebar-link">마구잡이 스프링정리2</a></li><li><a href="/study-collection/programming/ReactiveProgramming.html" class="sidebar-link">Reactive Programming</a></li><li><a href="/study-collection/programming/Java_Exception.html" class="active sidebar-link">Java 예외처리</a></li><li><a href="/study-collection/programming/Spring_errorPageFilter.html" class="sidebar-link">스프링 에러페이지 필터</a></li><li><a href="/study-collection/programming/Spring_Exception.html" class="sidebar-link">스프링 Exception 처리</a></li><li><a href="/study-collection/programming/Spring_Filter_Chain.html" class="sidebar-link">스프링 필터체인</a></li><li><a href="/study-collection/programming/Spring_httpConnectionPool.html" class="sidebar-link">스프링 httpConnectionPool</a></li><li><a href="/study-collection/programming/Webpack_Basic.html" class="sidebar-link">Webpack 기본개념</a></li><li><a href="/study-collection/programming/OOP.html" class="sidebar-link">OOP</a></li><li><a href="/study-collection/programming/Solid.html" class="sidebar-link">객체지향 설계 5원칙 SOLID</a></li><li><a href="/study-collection/programming/kafka_streams.html" class="sidebar-link">Kafka Streams</a></li><li><a href="/study-collection/programming/sync_async_blocking_nonblocking.html" class="sidebar-link">동기/비동기/블록킹/논블록킹</a></li><li><a href="/study-collection/programming/grpc_sample.html" class="sidebar-link">gRPC 예제</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Cloud</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Computer Science</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Devops(?)</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="예외처리"><a href="#예외처리" class="header-anchor">#</a> 예외처리</h1> <p></p><div class="table-of-contents"><ul><li><a href="#_1-예외-클래스">1. 예외 클래스</a></li><li><a href="#_2-사용예시">2. 사용예시</a></li><li><a href="#_3-사용자-정의-예외-생성">3. 사용자 정의 예외 생성</a></li><li><a href="#_4-트랜잭션">4. 트랜잭션</a></li></ul></div>
예외처리를 하다보니 지금까지 예외를 너무 아무렇게나 처리했다.<p></p> <p>그냥 캐치문에 로그만 찍어주고 어떤 에러인지 정확히 나누지도않고..</p> <p>정확히 용도에 맞는 예외처리를 해주도록 연습하고, 예외처리개념을 좀 정확하게 정리할 필요성을 느껴서 정리좀 해봄</p> <hr> <div class="language- extra-class"><pre class="language-text"><code>컴파일 에러 : 컴파일 할 때 발생하는 에러
런타임 에러 : 프로그램 실행중에 발생하는 에러

소스코드 컴파일 시 컴파일러에서 소스코드(.java)에 있는 오류들을 잡아서 에러를 알려준다.
정상적으로 수정하면, 컴파일러가 소스코드 (.java)  파일을 .class 파일로 변환해 준다.

자바에서는 실행 시 (runtime) 발생할 수 있는 프로그램 오류를 ‘에러’와 ‘예외’ 두 가지로 구분하고 있다.
에러는 메모리 부족이나 스택오버플로우같은 발생하면 복구하기 힘든 심각한 오류이고, 예외는 발생하더라도 수습이 될 수 있는 비교적 덜 심각한 상황이다.

-&gt; 에러 / 예외는 둘다 런타임 오류이다.
</code></pre></div><h2 id="_1-예외-클래스"><a href="#_1-예외-클래스" class="header-anchor">#</a> 1. 예외 클래스</h2> <p><img src="/study-collection/assets/img/exception.60eba6c6.png" alt="Alt text"></p> <div class="language- extra-class"><pre class="language-text"><code>RuntimeException 클래스들은 주로 프로그래머의 실수에 의해서 발생할 수 있는 예외들로서 자바의 프로그래밍 요소와 관계가 깊다.
-&gt; 프로그래머의 실수로 발생하는 예외

Exception 클래스들은 주로 외부의 영향으로 발생할 수 있는 것들로서, 프로그램의 사용자들의 동작에 의해서 발생하는 경우가 많다.
-&gt; 사용자의 실수와 같은 외적인 요인에 의해 발생하는 예외
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>RuntimeException 클래스들과 Exception 클래스들의 중요한 차이점은 컴파일시의 예외처리 체크여부이다. 

RuntimeException 클래스들 그룹에 속하는 예외가 발생할 가능성이 있는 코드에는 예외 처리를 해주지 않아도 컴파일 시에 문제가 되지 않지만, Exception 클래스들 그룹에 속하는 예외가 발생할 가능성이 있는 예외는 반드시 처리를 해주어야 하며, 그렇지 않으면 컴파일 시에 에러가 발생한다.
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ExceptionTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Exception을 강제로 발생시킨다.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>-&gt; 위와 같은 경우는 컴파일 에러가 난다.</p> <p>예외처리가 되어야 할 부분에 예외처리가 되어 있지 않다는 에러이다. 위의 결과에서 알 수 있는 것처럼, 위에서 분류한 '그 외의 Exception클래스들'이 발생할 가능성이 있는 문자들에 대해 예외처리를 해주지 않으면 컴파일 조차 되지 않는다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ExceptionTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Exception을 강제로 발생시킨다.</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">//</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>-&gt; 이런식으로 수정 필요</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ExceptionTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// RuntimeException을 강제로 발생시킨다.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>-&gt; 위와 같은 경우 컴파일에서는 에러가 나지 않지만, 실행시에 런타임 에러가 발생하며 종료된다.
런타임 예외는 컴파일에선 문제가 안되지만, 실제 실행시 문제가 발생하면 에러를 발생시킨다.</p> <h2 id="_2-사용예시"><a href="#_2-사용예시" class="header-anchor">#</a> 2. 사용예시</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ExceptionTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Logic</span> <span class="token class-name">A</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">catch</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>  
            무적권
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>try : try 안에는 예외 상황이 발생할 것으로 예상되는 로직이 위치된다.
catch : catch 안에는 예외 발생시 후처리를 위한 로직이 들어간다.
finally : 무조건 실행
</code></pre></div><h2 id="_3-사용자-정의-예외-생성"><a href="#_3-사용자-정의-예외-생성" class="header-anchor">#</a> 3. 사용자 정의 예외 생성</h2> <p>개발자에게 자신이 필요한 에러를 직접 커스터마이징도 가능하다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">NewException</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">NewException</span> <span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>Exception 클래스를 상속받아 NewException을 생성할 수 있다.
필요하면 멤버변수, 메소드를 추가가 가능하다. Exception 클래스는 생성시 스트링을 맏아 메세지로 저장이 가능하다.
사용자 정의 Exception에서도 똑같이 하려면 생성자 정의가 필요
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">NewException</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">int</span> ERROR_CODE<span class="token punctuation">;</span>

    <span class="token class-name">NewException</span> <span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">,</span> <span class="token keyword">int</span> errorCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ERROR_CODE <span class="token operator">=</span> errorCode<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">NewException</span> <span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 500 error</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getErrCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ERROR_CODE<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>이런식으로 커스터마이징하면, 에러메세지 (getMessage()) 이외에도 설정된 에러코드같은걸 볼 수 있다.</p> <h2 id="_4-트랜잭션"><a href="#_4-트랜잭션" class="header-anchor">#</a> 4. 트랜잭션</h2> <p>하나의 트랜잭션에서 에러처리를 하는건 매우 중요하다.</p> <p>트랜잭션은 하나의 작업 처리 단위를 말한다.</p> <p>예를들어 상품 구매 트랜잭션이 있을 때</p> <ul><li>상품선택</li> <li>장바구니 등록</li> <li>계산
이런 작업들이 있다.</li></ul> <p>이 세가지 작업중 하나가 실패하면 모두가 취소되어야 한다 (Rollback)</p> <p>수도코드로 정리를 해보면</p> <div class="language- extra-class"><pre class="language-text"><code>상품구매() {
    상품선택()
    장바구니등록()
    계산()
}

상품선택() {
    ...
}

장바구니 등록(){
    ...
}

계산(){
    ...
}
</code></pre></div><p>요런식의 구조가 된다.</p> <p>이런상태에서 뭔가가 잘못되서 롤백을 하고싶으면,</p> <div class="language- extra-class"><pre class="language-text"><code>상품구매() {
    try {
        상품선택()
        장바구니등록()
        계산()
    } catch (예외) {
        모두취소()
    }
}

상품선택() throws 예외{
    ...
}

장바구니 등록() throws 예외{
    ...
}

계산() throws 예외 {
    ...
}
</code></pre></div><p>요런식으로 각 트랜잭션 단계에서 예외를 던지는 형식으로 구현을 해야한다.</p> <p>만약</p> <div class="language- extra-class"><pre class="language-text"><code>상품구매() {
    상품선택()
    장바구니등록()
    계산()
}


상품선택() {
    try {
        ...
    } catch () {
        선택취소 ()
    }
}


장바구니 등록() {
    try {
        ...
    } catch () {
        등록취소 ()
    }
}


계산() {
    try {
        ...
    } catch () {
        계산취소 ()
    }
}
</code></pre></div><p>요런식이면 상품 선택은 안됐는데 계산은 되는 최악의 상황이 나올 수 있으니 예외처리를 할 때는 잘 고려해서 짜도록 하자.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/study-collection/programming/ReactiveProgramming.html" class="prev">Reactive Programming</a></span> <span class="next"><a href="/study-collection/programming/Spring_errorPageFilter.html">스프링 에러페이지 필터</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/study-collection/assets/js/app.deb005b6.js" defer></script><script src="/study-collection/assets/js/2.45aa8523.js" defer></script><script src="/study-collection/assets/js/74.c92a1f6b.js" defer></script>
  </body>
</html>

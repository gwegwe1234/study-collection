<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GoCD | 끄적끄적 블로그</title>
    <meta name="description" content="개발 관련 블로그">
    <link rel="icon" href="/study-collection/favicon.ico">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons">
    
    <link rel="preload" href="/study-collection/assets/css/0.styles.69cdfe8d.css" as="style"><link rel="preload" href="/study-collection/assets/js/app.c868891f.js" as="script"><link rel="preload" href="/study-collection/assets/js/2.18806e4e.js" as="script"><link rel="preload" href="/study-collection/assets/js/8.5a749143.js" as="script"><link rel="prefetch" href="/study-collection/assets/js/10.78fd625e.js"><link rel="prefetch" href="/study-collection/assets/js/100.e383c732.js"><link rel="prefetch" href="/study-collection/assets/js/101.4cd683f4.js"><link rel="prefetch" href="/study-collection/assets/js/102.d65e967d.js"><link rel="prefetch" href="/study-collection/assets/js/103.e1490cb9.js"><link rel="prefetch" href="/study-collection/assets/js/104.918e1077.js"><link rel="prefetch" href="/study-collection/assets/js/105.534c6a73.js"><link rel="prefetch" href="/study-collection/assets/js/106.f4dcf55c.js"><link rel="prefetch" href="/study-collection/assets/js/107.584c0a74.js"><link rel="prefetch" href="/study-collection/assets/js/108.d929e7cc.js"><link rel="prefetch" href="/study-collection/assets/js/109.88e0200f.js"><link rel="prefetch" href="/study-collection/assets/js/11.a0f12b30.js"><link rel="prefetch" href="/study-collection/assets/js/110.3cfcc3e8.js"><link rel="prefetch" href="/study-collection/assets/js/111.4ae37b59.js"><link rel="prefetch" href="/study-collection/assets/js/112.33d5d946.js"><link rel="prefetch" href="/study-collection/assets/js/113.b5259d7d.js"><link rel="prefetch" href="/study-collection/assets/js/114.9e045700.js"><link rel="prefetch" href="/study-collection/assets/js/115.5e606553.js"><link rel="prefetch" href="/study-collection/assets/js/116.1b5c40e8.js"><link rel="prefetch" href="/study-collection/assets/js/117.fd50b9b6.js"><link rel="prefetch" href="/study-collection/assets/js/118.fc1b6dd3.js"><link rel="prefetch" href="/study-collection/assets/js/119.51dba8be.js"><link rel="prefetch" href="/study-collection/assets/js/12.54c4aa49.js"><link rel="prefetch" href="/study-collection/assets/js/120.fd7ad585.js"><link rel="prefetch" href="/study-collection/assets/js/121.749f802a.js"><link rel="prefetch" href="/study-collection/assets/js/122.1f9b6871.js"><link rel="prefetch" href="/study-collection/assets/js/123.1a0529c4.js"><link rel="prefetch" href="/study-collection/assets/js/124.1e77cfbd.js"><link rel="prefetch" href="/study-collection/assets/js/125.9c961a16.js"><link rel="prefetch" href="/study-collection/assets/js/126.30b96676.js"><link rel="prefetch" href="/study-collection/assets/js/127.4f79bff5.js"><link rel="prefetch" href="/study-collection/assets/js/128.69291795.js"><link rel="prefetch" href="/study-collection/assets/js/129.2e0e7f32.js"><link rel="prefetch" href="/study-collection/assets/js/13.fe008e8c.js"><link rel="prefetch" href="/study-collection/assets/js/130.3b66ca81.js"><link rel="prefetch" href="/study-collection/assets/js/131.dd64c053.js"><link rel="prefetch" href="/study-collection/assets/js/132.eb792328.js"><link rel="prefetch" href="/study-collection/assets/js/133.cf4ad13d.js"><link rel="prefetch" href="/study-collection/assets/js/134.1b0f212f.js"><link rel="prefetch" href="/study-collection/assets/js/135.f0d11cdb.js"><link rel="prefetch" href="/study-collection/assets/js/136.79c83e41.js"><link rel="prefetch" href="/study-collection/assets/js/137.f038cc4c.js"><link rel="prefetch" href="/study-collection/assets/js/138.f8ad6c5b.js"><link rel="prefetch" href="/study-collection/assets/js/139.08f55c31.js"><link rel="prefetch" href="/study-collection/assets/js/14.0c11c254.js"><link rel="prefetch" href="/study-collection/assets/js/140.bf4fbebd.js"><link rel="prefetch" href="/study-collection/assets/js/141.5dc21586.js"><link rel="prefetch" href="/study-collection/assets/js/142.42820d89.js"><link rel="prefetch" href="/study-collection/assets/js/143.9d840cc3.js"><link rel="prefetch" href="/study-collection/assets/js/144.a24b919b.js"><link rel="prefetch" href="/study-collection/assets/js/145.561d4b73.js"><link rel="prefetch" href="/study-collection/assets/js/146.9595343d.js"><link rel="prefetch" href="/study-collection/assets/js/147.a604997a.js"><link rel="prefetch" href="/study-collection/assets/js/148.7f7d54e2.js"><link rel="prefetch" href="/study-collection/assets/js/149.c8dd0964.js"><link rel="prefetch" href="/study-collection/assets/js/15.2acdb3ee.js"><link rel="prefetch" href="/study-collection/assets/js/150.ed90b542.js"><link rel="prefetch" href="/study-collection/assets/js/151.77d1d657.js"><link rel="prefetch" href="/study-collection/assets/js/152.f791372c.js"><link rel="prefetch" href="/study-collection/assets/js/153.d237cb15.js"><link rel="prefetch" href="/study-collection/assets/js/154.a47770a2.js"><link rel="prefetch" href="/study-collection/assets/js/155.1ca8c583.js"><link rel="prefetch" href="/study-collection/assets/js/156.a51e5527.js"><link rel="prefetch" href="/study-collection/assets/js/157.25721247.js"><link rel="prefetch" href="/study-collection/assets/js/158.1ba2b2d5.js"><link rel="prefetch" href="/study-collection/assets/js/159.49937756.js"><link rel="prefetch" href="/study-collection/assets/js/16.8f060e68.js"><link rel="prefetch" href="/study-collection/assets/js/160.6d121690.js"><link rel="prefetch" href="/study-collection/assets/js/161.625cd04c.js"><link rel="prefetch" href="/study-collection/assets/js/162.1da391d0.js"><link rel="prefetch" href="/study-collection/assets/js/163.c0ce885f.js"><link rel="prefetch" href="/study-collection/assets/js/164.49e37883.js"><link rel="prefetch" href="/study-collection/assets/js/165.d90e290d.js"><link rel="prefetch" href="/study-collection/assets/js/166.7b0e06d2.js"><link rel="prefetch" href="/study-collection/assets/js/167.f95e3902.js"><link rel="prefetch" href="/study-collection/assets/js/168.f1a0346e.js"><link rel="prefetch" href="/study-collection/assets/js/169.ed100207.js"><link rel="prefetch" href="/study-collection/assets/js/17.14552ee1.js"><link rel="prefetch" href="/study-collection/assets/js/170.e8cc3bb9.js"><link rel="prefetch" href="/study-collection/assets/js/171.880417d8.js"><link rel="prefetch" href="/study-collection/assets/js/172.b000c45a.js"><link rel="prefetch" href="/study-collection/assets/js/173.3a4f6855.js"><link rel="prefetch" href="/study-collection/assets/js/174.bcb3d35a.js"><link rel="prefetch" href="/study-collection/assets/js/175.07d3c2cf.js"><link rel="prefetch" href="/study-collection/assets/js/176.db0cc2dd.js"><link rel="prefetch" href="/study-collection/assets/js/177.61636c99.js"><link rel="prefetch" href="/study-collection/assets/js/178.fdd62de4.js"><link rel="prefetch" href="/study-collection/assets/js/179.edc9a8d7.js"><link rel="prefetch" href="/study-collection/assets/js/18.6c32614a.js"><link rel="prefetch" href="/study-collection/assets/js/19.ccd76e20.js"><link rel="prefetch" href="/study-collection/assets/js/20.1e4d5388.js"><link rel="prefetch" href="/study-collection/assets/js/21.20283d28.js"><link rel="prefetch" href="/study-collection/assets/js/22.30dc43fd.js"><link rel="prefetch" href="/study-collection/assets/js/23.d23a7b98.js"><link rel="prefetch" href="/study-collection/assets/js/24.58cb377b.js"><link rel="prefetch" href="/study-collection/assets/js/25.a24e546d.js"><link rel="prefetch" href="/study-collection/assets/js/26.62a45f76.js"><link rel="prefetch" href="/study-collection/assets/js/27.639ea471.js"><link rel="prefetch" href="/study-collection/assets/js/28.aa1e66d3.js"><link rel="prefetch" href="/study-collection/assets/js/29.81d3e5bc.js"><link rel="prefetch" href="/study-collection/assets/js/3.84a2d408.js"><link rel="prefetch" href="/study-collection/assets/js/30.8b0e6f9b.js"><link rel="prefetch" href="/study-collection/assets/js/31.03860287.js"><link rel="prefetch" href="/study-collection/assets/js/32.2f6b42b4.js"><link rel="prefetch" href="/study-collection/assets/js/33.59192bd2.js"><link rel="prefetch" href="/study-collection/assets/js/34.167f0ee4.js"><link rel="prefetch" href="/study-collection/assets/js/35.b6366b86.js"><link rel="prefetch" href="/study-collection/assets/js/36.51854031.js"><link rel="prefetch" href="/study-collection/assets/js/37.af7fdf7f.js"><link rel="prefetch" href="/study-collection/assets/js/38.5bc14fc1.js"><link rel="prefetch" href="/study-collection/assets/js/39.5f355151.js"><link rel="prefetch" href="/study-collection/assets/js/4.52ba1d38.js"><link rel="prefetch" href="/study-collection/assets/js/40.d368d580.js"><link rel="prefetch" href="/study-collection/assets/js/41.11beff23.js"><link rel="prefetch" href="/study-collection/assets/js/42.89844662.js"><link rel="prefetch" href="/study-collection/assets/js/43.4fef29cb.js"><link rel="prefetch" href="/study-collection/assets/js/44.6a576bb2.js"><link rel="prefetch" href="/study-collection/assets/js/45.b9e44b27.js"><link rel="prefetch" href="/study-collection/assets/js/46.ca47957e.js"><link rel="prefetch" href="/study-collection/assets/js/47.fe37cefc.js"><link rel="prefetch" href="/study-collection/assets/js/48.fe8612dd.js"><link rel="prefetch" href="/study-collection/assets/js/49.63ea19fc.js"><link rel="prefetch" href="/study-collection/assets/js/5.ae8549cb.js"><link rel="prefetch" href="/study-collection/assets/js/50.b985a4c3.js"><link rel="prefetch" href="/study-collection/assets/js/51.05f134f6.js"><link rel="prefetch" href="/study-collection/assets/js/52.f5752a71.js"><link rel="prefetch" href="/study-collection/assets/js/53.4cafd88c.js"><link rel="prefetch" href="/study-collection/assets/js/54.3e47b941.js"><link rel="prefetch" href="/study-collection/assets/js/55.54b6a8aa.js"><link rel="prefetch" href="/study-collection/assets/js/56.577752fb.js"><link rel="prefetch" href="/study-collection/assets/js/57.9e7a21d7.js"><link rel="prefetch" href="/study-collection/assets/js/58.fff02f68.js"><link rel="prefetch" href="/study-collection/assets/js/59.6c090068.js"><link rel="prefetch" href="/study-collection/assets/js/6.3db93405.js"><link rel="prefetch" href="/study-collection/assets/js/60.477344e5.js"><link rel="prefetch" href="/study-collection/assets/js/61.17820ec0.js"><link rel="prefetch" href="/study-collection/assets/js/62.c1933a99.js"><link rel="prefetch" href="/study-collection/assets/js/63.c9335574.js"><link rel="prefetch" href="/study-collection/assets/js/64.d0a9ffbd.js"><link rel="prefetch" href="/study-collection/assets/js/65.da7cb4b4.js"><link rel="prefetch" href="/study-collection/assets/js/66.b56e1e5b.js"><link rel="prefetch" href="/study-collection/assets/js/67.6e203129.js"><link rel="prefetch" href="/study-collection/assets/js/68.e9d9faca.js"><link rel="prefetch" href="/study-collection/assets/js/69.e6ad30d2.js"><link rel="prefetch" href="/study-collection/assets/js/7.e5576656.js"><link rel="prefetch" href="/study-collection/assets/js/70.e529b11c.js"><link rel="prefetch" href="/study-collection/assets/js/71.ee6f67da.js"><link rel="prefetch" href="/study-collection/assets/js/72.c53f7c57.js"><link rel="prefetch" href="/study-collection/assets/js/73.dddbdfbb.js"><link rel="prefetch" href="/study-collection/assets/js/74.1df982da.js"><link rel="prefetch" href="/study-collection/assets/js/75.fbfe3a30.js"><link rel="prefetch" href="/study-collection/assets/js/76.b200f265.js"><link rel="prefetch" href="/study-collection/assets/js/77.bb13ac73.js"><link rel="prefetch" href="/study-collection/assets/js/78.814d891e.js"><link rel="prefetch" href="/study-collection/assets/js/79.2cf068cf.js"><link rel="prefetch" href="/study-collection/assets/js/80.a452842c.js"><link rel="prefetch" href="/study-collection/assets/js/81.33f7059e.js"><link rel="prefetch" href="/study-collection/assets/js/82.43d5287c.js"><link rel="prefetch" href="/study-collection/assets/js/83.af592b36.js"><link rel="prefetch" href="/study-collection/assets/js/84.8a9a7d6f.js"><link rel="prefetch" href="/study-collection/assets/js/85.29280fc3.js"><link rel="prefetch" href="/study-collection/assets/js/86.4ba0c0a3.js"><link rel="prefetch" href="/study-collection/assets/js/87.1b717c01.js"><link rel="prefetch" href="/study-collection/assets/js/88.9c8efca0.js"><link rel="prefetch" href="/study-collection/assets/js/89.14c42929.js"><link rel="prefetch" href="/study-collection/assets/js/9.4dfc86ed.js"><link rel="prefetch" href="/study-collection/assets/js/90.ddb1a215.js"><link rel="prefetch" href="/study-collection/assets/js/91.9d2ce618.js"><link rel="prefetch" href="/study-collection/assets/js/92.aa0ea11a.js"><link rel="prefetch" href="/study-collection/assets/js/93.ce34dfda.js"><link rel="prefetch" href="/study-collection/assets/js/94.d5075931.js"><link rel="prefetch" href="/study-collection/assets/js/95.8e1ca184.js"><link rel="prefetch" href="/study-collection/assets/js/96.e7792d98.js"><link rel="prefetch" href="/study-collection/assets/js/97.8081588e.js"><link rel="prefetch" href="/study-collection/assets/js/98.85e44e46.js"><link rel="prefetch" href="/study-collection/assets/js/99.6b7cfe0c.js">
    <link rel="stylesheet" href="/study-collection/assets/css/0.styles.69cdfe8d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/study-collection/" class="home-link router-link-active"><!----> <span class="site-name">끄적끄적 블로그</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/study-collection/guide.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://github.com/gwegwe1234/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/study-collection/guide.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://github.com/gwegwe1234/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/study-collection/guide.html" class="sidebar-link">Intro</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Book summary</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Tech</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Programming</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Cloud</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Computer Science</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Devops(?)</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study-collection/devops/Docker_summary.html" class="sidebar-link">Docker 개념정리</a></li><li><a href="/study-collection/devops/gocd_summary.html" class="active sidebar-link">Gocd 개념정리</a></li><li><a href="/study-collection/devops/Nexus3.html" class="sidebar-link">Nexus 구성</a></li><li><a href="/study-collection/devops/Infra_ip.html" class="sidebar-link">Infra - ip</a></li><li><a href="/study-collection/devops/Infra_webserver.html" class="sidebar-link">Infra - 웹서버</a></li><li><a href="/study-collection/devops/aaS.html" class="sidebar-link">aaS - IaaS, PaaS, SaaS</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Algorithm</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Backend</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>끄적끄적</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="gocd"><a href="#gocd" class="header-anchor">#</a> GoCD</h1> <p></p><div class="table-of-contents"><ul><li><a href="#_1-job">1. Job</a></li><li><a href="#_2-stage">2.Stage</a></li><li><a href="#_3-pipeline">3.Pipeline</a></li><li><a href="#_4-materials-and-triggers-or-when-do-these-tasks-jobs-stages-and-pipelines-run">4.Materials and triggers (or When do these tasks, jobs, stages and pipelines run?)</a></li><li><a href="#_5-pipeline-dependency-material">5.Pipeline dependency material</a></li><li><a href="#_6-fan-out-and-fan-in">6.Fan-out and Fan-in</a></li><li><a href="#_7-value-stream-map-vsm">7.Value Stream Map (VSM)</a></li><li><a href="#_8-artifacts">8.Artifacts</a></li><li><a href="#_9-fetching-artifacts">9.Fetching artifacts</a></li><li><a href="#_10-agent">10.Agent</a></li><li><a href="#_11-environment">11.Environment</a></li></ul></div><p></p> <h2 id="_1-job"><a href="#_1-job" class="header-anchor">#</a> 1. Job</h2> <p>job은 여러개의 태스크들로 구성됨. 태스크가 실패하면, 잡이 실패됨. 그런경우 남은 태스크들은 안돌게된다.</p> <p><img src="/study-collection/assets/img/gocd1.802b313c.png" alt="Alt text"></p> <p>위의 이미지로 보면, 태스크가 3개인데, 위에서부터 실행되고 독립적이다. 만약 ant 를 하는거에서 뭐 환경변수가 변하고 이래도 나머지엔 영향을 안미친다.</p> <h2 id="_2-stage"><a href="#_2-stage" class="header-anchor">#</a> 2.Stage</h2> <p>Stage는 여러개의 job 들로 구성되어 있음. 역시나 독립적으로 돈다.</p> <p>이말은 GoCD는 병렬적으로 stage안에 있는 job들이 구동이 가능하단 소리. 만약, 하나의 job이 실패하면 스테이지는 그 job이 실패했다고 판단한다.</p> <p>근데 나머지는 독립적이니까 잘돈다. (각각의 잡들이 독립적으로 실행됨)</p> <p><img src="/study-collection/assets/img/gocd2.cc8970df.png" alt="Alt text"></p> <p>위의 이미지에선 스테이지 내에 잡이 2개가 돌고있음. 하나가 실패하건 말건 나머지는 자기 꺼 돌림</p> <h2 id="_3-pipeline"><a href="#_3-pipeline" class="header-anchor">#</a> 3.Pipeline</h2> <p>파이프라인은 여러개의 스테이지로 구성되어 있고, 각각의 스테이지들은 순서에 따라 돌게 된다.</p> <p>만약 스테이지가 실패하면, 파이프라인은 실패했다고 간주하고 뒤이어 실행될 스테이지들은 실행되지 않는다.</p> <p><img src="/study-collection/assets/img/gocd3.c3312580.png" alt="Alt text"></p> <p>위의 그림에선 3개의 스테이지가 파이프라인을 구성하고 있다. 첫번째는 2개의 잡이 있고, 두번째는 3개의 잡, 마지막껀 하나의 잡이 있다. 만약 첫번째 스테이지가 실패하면 나머지도 실행안된다.</p> <h2 id="_4-materials-and-triggers-or-when-do-these-tasks-jobs-stages-and-pipelines-run"><a href="#_4-materials-and-triggers-or-when-do-these-tasks-jobs-stages-and-pipelines-run" class="header-anchor">#</a> 4.Materials and triggers (or When do these tasks, jobs, stages and pipelines run?)</h2> <p>material은 파이프라인을 실행시켜주는 매개체.. 라고보면된다.</p> <p>GoCD 서버는 계속해서 지정된 material을 polling 하고 새로운 변화 (like commit, push, pr 이겠지) 를 캐치하면 파이프라인이 트리거 된다.</p> <p><img src="/study-collection/assets/img/gocd4.6f7e042c.png" alt="Alt text"></p> <p>git material 을 보면, commit 이 오면 파이프라인이 실행된다.</p> <p><img src="/study-collection/assets/img/gocd5.e7229e1c.png" alt="Alt text"></p> <p>타이머 트리거도 있음. 뭐 시간되면 도는거겠지 (배치로 쓰면 좋을듯)</p> <p><img src="/study-collection/assets/img/gocd6.81b812a9.png" alt="Alt text"></p> <p>여러개로 트리거 걸수도 있음.</p> <h2 id="_5-pipeline-dependency-material"><a href="#_5-pipeline-dependency-material" class="header-anchor">#</a> 5.Pipeline dependency material</h2> <p>material은 파이프라인의 스테이지가 다른 파이프라인의 material로 사용될 때 유용성이 높다.</p> <p><img src="/study-collection/assets/img/gocd7.5a871501.png" alt="Alt text"></p> <p>위의 이미지에선 파이프라인 1의 스테이지 2가 파이프라인2로 연결 구성되어 있다.</p> <p>파이프라인 1의 스테이지2가 성공적으로 끝나면, 파이프라인2가 트리거된다.</p> <p>이럴경우 파이프라인 1은 Upstream Pipeline이라 불리고, 파이프라인 2는 Downstream Pipeline이라고 불림.</p> <p>파이프라인 1의 스테이지 2는 이럴경우, 파이프라인 2의 Upstream Dependency로 불림.</p> <p><img src="/study-collection/assets/img/gocd8.e5bc53a8.png" alt="Alt text"></p> <p>아무파이프라인의 아무 스테이지가 material로 사용될 수 있다. 위의 그림처럼 파이프라인 1의 스테이지1이 완료되면 파이프라인 2가 실행되게 트리거될수도 있지.</p> <h2 id="_6-fan-out-and-fan-in"><a href="#_6-fan-out-and-fan-in" class="header-anchor">#</a> 6.Fan-out and Fan-in</h2> <p>materials는 다운스트림 파이프라인에 fan-out도 할 수 있는데, materials의 완료가 여러개의 다운스트림 파이프라인을 트리거 하는 경우이다.</p> <p><img src="/study-collection/assets/img/gocd9.f2fbb729.png" alt="Alt text"></p> <p>요런 그림형식인데, fan out의 매개체가 항상 파이프라인 dependency material일 필요는 없고, 어떤 material 이건 상관없다. (like git 같은거일듯..)</p> <p><img src="/study-collection/assets/img/gocd10.36546dfb.png" alt="Alt text"></p> <p>fan-in은 downstream pipeline 트리거를 위해서 여러개의 upstream material 이 필요한 상황이다.</p> <p>팬인의 중요하고 흥미로운 측면 중 하나는 GoCD가 다운 스트림 파이프 라인을 트리거하기 전에 업스트림 파이프 라인의 버전이 일관되게 유지된다는 것이다.</p> <p>위 그림에서 파이프 라인 1의 2 단계가 느리고 파이프 라인 2의 1 단계가 빠르면 파이프 라인 3은 파이프 라인 1이 완료 될 때까지 기다렸다가 트리거함.</p> <p>파이프 라인 2가 빠르게 완료 되었기 때문에 파이프 라인 1의 불일치 또는 이전 revision으로 트리거되지 않는다.</p> <h2 id="_7-value-stream-map-vsm"><a href="#_7-value-stream-map-vsm" class="header-anchor">#</a> 7.Value Stream Map (VSM)</h2> <p>vsm은 upstream dependencies 와 downstream pipeline 트리거들의 end-to-end 의 view 다.</p> <p>어떠한 파이프라인이 트리거되는게 결정되면, GoCD의 fan-in / fan-out resolution은 모든 디펜던시 일관성을 고려한다.</p> <p><img src="/study-collection/assets/img/gocd11.e18daf11.png" alt="Alt text"></p> <p>이거시 무슨 소리냐 하면, 위의 그림에서 repo1의 깃이 커밋되면, GoCD는 바로 파이프라인5를 트리거 하지않는다.</p> <p>파이프라인 1이 완료되는걸 기다리고, 그리고 4가 될때까지 다 기다리고 파이프라인 5가 실행된다.</p> <p>결과적으로, 파이프라인 1에 사용된것과 동일한 repo1의 깃 버전으로 파이프라인 5가 실행된다.</p> <h2 id="_8-artifacts"><a href="#_8-artifacts" class="header-anchor">#</a> 8.Artifacts</h2> <p>모든 GoCD 안의 Job들은 파일 / 디렉토리 Artifacts를 발행할수 있다.</p> <p>잡이 다 돌고나면, GoCD는 지정된 아티팩트가 사용자 및 기타 다운 스트림 단계 및 파이프 라인에 공개되어 제공 될 수 있도록 한다.</p> <p><img src="/study-collection/assets/img/gocd12.3f909ca2.png" alt="Alt text"></p> <p>위의 그림에선 job1은 파일두개 디렉토리 한개의 아티팩트를 가지고 있음. 뭐이렇게 알아두면 되듯..</p> <h2 id="_9-fetching-artifacts"><a href="#_9-fetching-artifacts" class="header-anchor">#</a> 9.Fetching artifacts</h2> <p>GoCD는 Fetch Artifatc Task를 제공하는데, 다른 ancestor pipeline이 접근.. 가능하게 하는거. 즉 지금 파이프라인의 아무 upstream pipeline.</p> <p><img src="/study-collection/assets/img/gocd13.8955a94b.png" alt="Alt text"></p> <p>위의 그림에서 파이프 라인 1의 1 단계 작업은 일부 아티팩트를 게시한다. 2 단계에서는 페치 아티팩트 태스크가 1 단계에서 공개 된 아티팩트를 fetch한다. 그런 다음, 파이프 라인 2에서 Fetch 아티팩트 태스크는 파이프 라인 1에 공개 된 아티팩트를 fetch한다. 마지막으로 다운 스트림 인 파이프 라인 3에서 페치 아티팩트 태스크가 파이프 라인 1에서 파이프 라인 2를 통해 아티팩트를 fetch 한다.</p> <h2 id="_10-agent"><a href="#_10-agent" class="header-anchor">#</a> 10.Agent</h2> <p>GoCD agent는 GoCD 에코시스템에서의 워커다.</p> <p>그냥 뭐 material change 뜰때 poll하고 .. 그런거라고 보면될듯</p> <p>GoCD 서버에 리포트도 날리고..</p> <p>—&gt; 젠킨스 슬레이브 노드같은거라고 생각하면 된다.</p> <h2 id="_11-environment"><a href="#_11-environment" class="header-anchor">#</a> 11.Environment</h2> <p>잘알고 있는 환경변수다.
대충 보니까 순서대로 오버라이딩함.
<img src="/study-collection/assets/img/gocd14.e19d9321.png" alt="Alt text"></p> <p>이런식으로 설정이 가능하고</p> <p><img src="/study-collection/assets/img/gocd15.5bb7287c.png" alt="Alt text"></p> <p>이런식으로 오버라이딩 할 수 있다</p> <p>참고
https://docs.gocd.org/current/introduction/concepts_in_go.html</p> <p>https://www.linux.com/tutorials/set-cicd-pipeline-kubernetes-part-1-overview/</p> <p>https://www.linux.com/tutorials/set-cicd-pipeline-jenkins-pod-kubernetes-part-2/</p> <p>https://www.linux.com/tutorials/run-and-scale-distributed-crossword-puzzle-app-cicd-kubernetes-part-3/</p> <p>https://www.linux.com/tutorials/set-cicd-distributed-crossword-puzzle-app-kubernetes-part-4/</p> <p>https://zerobig-k8s.tistory.com/22 -&gt; 위 4개 한글해석 잘해놓은 블로그</p> <p>https://bcho.tistory.com/1234</p> <p>필요한 정보 - jenkins / spinnaker / gocd / helm (중요)</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/study-collection/devops/Docker_summary.html" class="prev">Docker 개념정리</a></span> <span class="next"><a href="/study-collection/devops/Nexus3.html">Nexus 구성</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/study-collection/assets/js/app.c868891f.js" defer></script><script src="/study-collection/assets/js/2.18806e4e.js" defer></script><script src="/study-collection/assets/js/8.5a749143.js" defer></script>
  </body>
</html>

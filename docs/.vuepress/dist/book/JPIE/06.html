<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>6강 | 끄적끄적 블로그</title>
    <meta name="description" content="개발 관련 블로그">
    <link rel="icon" href="/study-collection/favicon.ico">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons">
    
    <link rel="preload" href="/study-collection/assets/css/0.styles.48760978.css" as="style"><link rel="preload" href="/study-collection/assets/js/app.159b09d5.js" as="script"><link rel="preload" href="/study-collection/assets/js/2.3bb65b7d.js" as="script"><link rel="preload" href="/study-collection/assets/js/55.c5cbc804.js" as="script"><link rel="prefetch" href="/study-collection/assets/js/10.1ebce685.js"><link rel="prefetch" href="/study-collection/assets/js/100.4042f830.js"><link rel="prefetch" href="/study-collection/assets/js/101.0b103508.js"><link rel="prefetch" href="/study-collection/assets/js/102.a1948361.js"><link rel="prefetch" href="/study-collection/assets/js/103.c52ef3d6.js"><link rel="prefetch" href="/study-collection/assets/js/104.3e608f69.js"><link rel="prefetch" href="/study-collection/assets/js/105.9f8008b6.js"><link rel="prefetch" href="/study-collection/assets/js/106.9208bf53.js"><link rel="prefetch" href="/study-collection/assets/js/107.148fb5c3.js"><link rel="prefetch" href="/study-collection/assets/js/108.0ca0c5e8.js"><link rel="prefetch" href="/study-collection/assets/js/109.8c5fdacc.js"><link rel="prefetch" href="/study-collection/assets/js/11.2a1b5ee6.js"><link rel="prefetch" href="/study-collection/assets/js/110.23d9b41b.js"><link rel="prefetch" href="/study-collection/assets/js/111.b5ee0fee.js"><link rel="prefetch" href="/study-collection/assets/js/112.4d2e3303.js"><link rel="prefetch" href="/study-collection/assets/js/113.099d5ef8.js"><link rel="prefetch" href="/study-collection/assets/js/114.6541d4e8.js"><link rel="prefetch" href="/study-collection/assets/js/115.9fd22abd.js"><link rel="prefetch" href="/study-collection/assets/js/116.1cbac12c.js"><link rel="prefetch" href="/study-collection/assets/js/117.e34c20c1.js"><link rel="prefetch" href="/study-collection/assets/js/118.df4b4b70.js"><link rel="prefetch" href="/study-collection/assets/js/119.66fa1218.js"><link rel="prefetch" href="/study-collection/assets/js/12.ecdd6a5d.js"><link rel="prefetch" href="/study-collection/assets/js/120.835a091f.js"><link rel="prefetch" href="/study-collection/assets/js/121.fd90bda9.js"><link rel="prefetch" href="/study-collection/assets/js/122.53e200a8.js"><link rel="prefetch" href="/study-collection/assets/js/123.1502de81.js"><link rel="prefetch" href="/study-collection/assets/js/124.fd842eee.js"><link rel="prefetch" href="/study-collection/assets/js/125.0580f39e.js"><link rel="prefetch" href="/study-collection/assets/js/126.306bf51b.js"><link rel="prefetch" href="/study-collection/assets/js/127.5c4b3df1.js"><link rel="prefetch" href="/study-collection/assets/js/128.2cc126ac.js"><link rel="prefetch" href="/study-collection/assets/js/129.143d0532.js"><link rel="prefetch" href="/study-collection/assets/js/13.87756a51.js"><link rel="prefetch" href="/study-collection/assets/js/130.598e2d90.js"><link rel="prefetch" href="/study-collection/assets/js/131.bcf3a38d.js"><link rel="prefetch" href="/study-collection/assets/js/132.0e0e61de.js"><link rel="prefetch" href="/study-collection/assets/js/133.061b703b.js"><link rel="prefetch" href="/study-collection/assets/js/134.275f8bcf.js"><link rel="prefetch" href="/study-collection/assets/js/135.e3a48136.js"><link rel="prefetch" href="/study-collection/assets/js/14.c36dc211.js"><link rel="prefetch" href="/study-collection/assets/js/15.05055833.js"><link rel="prefetch" href="/study-collection/assets/js/16.66c148bb.js"><link rel="prefetch" href="/study-collection/assets/js/17.bcfd38ce.js"><link rel="prefetch" href="/study-collection/assets/js/18.9999f76e.js"><link rel="prefetch" href="/study-collection/assets/js/19.1883f269.js"><link rel="prefetch" href="/study-collection/assets/js/20.4dc914be.js"><link rel="prefetch" href="/study-collection/assets/js/21.0d620b47.js"><link rel="prefetch" href="/study-collection/assets/js/22.07fb042a.js"><link rel="prefetch" href="/study-collection/assets/js/23.2ece0f2a.js"><link rel="prefetch" href="/study-collection/assets/js/24.45f359a9.js"><link rel="prefetch" href="/study-collection/assets/js/25.4053e73e.js"><link rel="prefetch" href="/study-collection/assets/js/26.76e0a4d1.js"><link rel="prefetch" href="/study-collection/assets/js/27.69061251.js"><link rel="prefetch" href="/study-collection/assets/js/28.08743101.js"><link rel="prefetch" href="/study-collection/assets/js/29.ee48026b.js"><link rel="prefetch" href="/study-collection/assets/js/3.5f3ad2ee.js"><link rel="prefetch" href="/study-collection/assets/js/30.51ce6227.js"><link rel="prefetch" href="/study-collection/assets/js/31.3a59a56d.js"><link rel="prefetch" href="/study-collection/assets/js/32.f7d66aaa.js"><link rel="prefetch" href="/study-collection/assets/js/33.5aff1e3a.js"><link rel="prefetch" href="/study-collection/assets/js/34.4148c4d5.js"><link rel="prefetch" href="/study-collection/assets/js/35.69028252.js"><link rel="prefetch" href="/study-collection/assets/js/36.c4ac26e2.js"><link rel="prefetch" href="/study-collection/assets/js/37.ad75e838.js"><link rel="prefetch" href="/study-collection/assets/js/38.62258f70.js"><link rel="prefetch" href="/study-collection/assets/js/39.9f2584b2.js"><link rel="prefetch" href="/study-collection/assets/js/4.39e1136b.js"><link rel="prefetch" href="/study-collection/assets/js/40.cc699ce9.js"><link rel="prefetch" href="/study-collection/assets/js/41.7f56cf2f.js"><link rel="prefetch" href="/study-collection/assets/js/42.92564db3.js"><link rel="prefetch" href="/study-collection/assets/js/43.21d97137.js"><link rel="prefetch" href="/study-collection/assets/js/44.cd0d981e.js"><link rel="prefetch" href="/study-collection/assets/js/45.aff96220.js"><link rel="prefetch" href="/study-collection/assets/js/46.b1a8e2af.js"><link rel="prefetch" href="/study-collection/assets/js/47.4e7db245.js"><link rel="prefetch" href="/study-collection/assets/js/48.e3a1e1d9.js"><link rel="prefetch" href="/study-collection/assets/js/49.1489d5ee.js"><link rel="prefetch" href="/study-collection/assets/js/5.f23b6845.js"><link rel="prefetch" href="/study-collection/assets/js/50.02e1b2ab.js"><link rel="prefetch" href="/study-collection/assets/js/51.9dd528ff.js"><link rel="prefetch" href="/study-collection/assets/js/52.7c54a189.js"><link rel="prefetch" href="/study-collection/assets/js/53.26c9d76b.js"><link rel="prefetch" href="/study-collection/assets/js/54.d04fb8c8.js"><link rel="prefetch" href="/study-collection/assets/js/56.1318ec8d.js"><link rel="prefetch" href="/study-collection/assets/js/57.6f67cae1.js"><link rel="prefetch" href="/study-collection/assets/js/58.ca17b32d.js"><link rel="prefetch" href="/study-collection/assets/js/59.1729c2b3.js"><link rel="prefetch" href="/study-collection/assets/js/6.5250ddb6.js"><link rel="prefetch" href="/study-collection/assets/js/60.32bc1119.js"><link rel="prefetch" href="/study-collection/assets/js/61.482cf2ba.js"><link rel="prefetch" href="/study-collection/assets/js/62.35ebb892.js"><link rel="prefetch" href="/study-collection/assets/js/63.1a4e515b.js"><link rel="prefetch" href="/study-collection/assets/js/64.07de9d95.js"><link rel="prefetch" href="/study-collection/assets/js/65.e639603e.js"><link rel="prefetch" href="/study-collection/assets/js/66.ee8f3fef.js"><link rel="prefetch" href="/study-collection/assets/js/67.dd91138a.js"><link rel="prefetch" href="/study-collection/assets/js/68.10f428f9.js"><link rel="prefetch" href="/study-collection/assets/js/69.d6ed09d1.js"><link rel="prefetch" href="/study-collection/assets/js/7.25d20f4d.js"><link rel="prefetch" href="/study-collection/assets/js/70.755a4b12.js"><link rel="prefetch" href="/study-collection/assets/js/71.5c56babe.js"><link rel="prefetch" href="/study-collection/assets/js/72.47d55707.js"><link rel="prefetch" href="/study-collection/assets/js/73.e0fa83c9.js"><link rel="prefetch" href="/study-collection/assets/js/74.5b9e070b.js"><link rel="prefetch" href="/study-collection/assets/js/75.ee4bd75b.js"><link rel="prefetch" href="/study-collection/assets/js/76.f9798d9f.js"><link rel="prefetch" href="/study-collection/assets/js/77.2ac61a75.js"><link rel="prefetch" href="/study-collection/assets/js/78.eba18305.js"><link rel="prefetch" href="/study-collection/assets/js/79.8b342268.js"><link rel="prefetch" href="/study-collection/assets/js/8.f0f4a61a.js"><link rel="prefetch" href="/study-collection/assets/js/80.54fad60b.js"><link rel="prefetch" href="/study-collection/assets/js/81.be49f8ed.js"><link rel="prefetch" href="/study-collection/assets/js/82.1681988c.js"><link rel="prefetch" href="/study-collection/assets/js/83.ce2f5f52.js"><link rel="prefetch" href="/study-collection/assets/js/84.7a94323c.js"><link rel="prefetch" href="/study-collection/assets/js/85.9ff6a0dc.js"><link rel="prefetch" href="/study-collection/assets/js/86.81115077.js"><link rel="prefetch" href="/study-collection/assets/js/87.90d7ca3a.js"><link rel="prefetch" href="/study-collection/assets/js/88.27ebd0a4.js"><link rel="prefetch" href="/study-collection/assets/js/89.3bc6b7a8.js"><link rel="prefetch" href="/study-collection/assets/js/9.1571fff6.js"><link rel="prefetch" href="/study-collection/assets/js/90.0b301bd4.js"><link rel="prefetch" href="/study-collection/assets/js/91.b66ef6a0.js"><link rel="prefetch" href="/study-collection/assets/js/92.9b606951.js"><link rel="prefetch" href="/study-collection/assets/js/93.7a200191.js"><link rel="prefetch" href="/study-collection/assets/js/94.e40dba04.js"><link rel="prefetch" href="/study-collection/assets/js/95.5d49d451.js"><link rel="prefetch" href="/study-collection/assets/js/96.27caa763.js"><link rel="prefetch" href="/study-collection/assets/js/97.f87ba51e.js"><link rel="prefetch" href="/study-collection/assets/js/98.e7efbf34.js"><link rel="prefetch" href="/study-collection/assets/js/99.63f92e6c.js">
    <link rel="stylesheet" href="/study-collection/assets/css/0.styles.48760978.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/study-collection/" class="home-link router-link-active"><!----> <span class="site-name">끄적끄적 블로그</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/study-collection/guide.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://github.com/gwegwe1234/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/study-collection/guide.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://github.com/gwegwe1234/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/study-collection/guide.html" class="sidebar-link">Intro</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Book summary</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>자바 프로그래밍 면접 이렇게 준비한다</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study-collection/book/JPIE/04.html" class="sidebar-link">4장 기본 알고리즘 작성하기</a></li><li><a href="/study-collection/book/JPIE/05.html" class="sidebar-link">5장 자료구조</a></li><li><a href="/study-collection/book/JPIE/06.html" class="active sidebar-link">6장 디자인 패턴</a></li><li><a href="/study-collection/book/JPIE/07.html" class="sidebar-link">7장 자주 묻는 면접 알고리즘 구현하기</a></li><li><a href="/study-collection/book/JPIE/08.html" class="sidebar-link">8장 자바 기본</a></li><li><a href="/study-collection/book/JPIE/09.html" class="sidebar-link">9장 JUnit으로 테스팅하기</a></li><li><a href="/study-collection/book/JPIE/10.html" class="sidebar-link">10장 자바 가상머신 이해하기</a></li><li><a href="/study-collection/book/JPIE/11.html" class="sidebar-link">11장 동시성</a></li><li><a href="/study-collection/book/JPIE/12.html" class="sidebar-link">12장 자바 어플리케이션과 데이터베이스 통합하기</a></li><li><a href="/study-collection/book/JPIE/13.html" class="sidebar-link">13장 웹 어플리케이션 만들기</a></li><li><a href="/study-collection/book/JPIE/14.html" class="sidebar-link">14장 HTTP와 REST 이용하기</a></li><li><a href="/study-collection/book/JPIE/15.html" class="sidebar-link">15장 직렬화</a></li><li><a href="/study-collection/book/JPIE/16.html" class="sidebar-link">16장 스프링 프레임워크</a></li><li><a href="/study-collection/book/JPIE/17.html" class="sidebar-link">17장 하이버네이트 사용하기</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>클린코드</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>스프링 인 액션</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>고 인 액션</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Go 언어를 활용한 마이크로서비스 개발</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>마이크로서비스 구축과 운영</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>카프카 스트림즈 인 액션</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>모던 자바 인 액션</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>객체지향의 사실과 오해</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tech</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_6강"><a href="#_6강" class="header-anchor">#</a> 6강</h1> <p></p><div class="table-of-contents"><ul><li><a href="#예제-패턴-살펴보기">예제 패턴 살펴보기</a><ul><li><a href="#q1-빌더-패턴은-얼마나-유용한가">Q1. 빌더 패턴은 얼마나 유용한가?</a></li><li><a href="#q2-스트레티지-패턴의-예를-보여줄-수-있는가">Q2. 스트레티지 패턴의 예를 보여줄 수 있는가?</a></li><li><a href="#q3-템플릿-메소드-패턴은-어떻게-사용하는가">Q3. 템플릿 메소드 패턴은 어떻게 사용하는가?</a></li></ul></li><li><a href="#일반적으로-사용하는-패턴">일반적으로 사용하는 패턴</a><ul><li><a href="#q4-데코레이터-패턴의-예를-설명할-수-있는가">Q4. 데코레이터 패턴의 예를 설명할 수 있는가?</a></li><li><a href="#q5-플라이웨이트-패턴의-구현-방법을-설명할-수-있는가">Q5. 플라이웨이트 패턴의 구현 방법을 설명할 수 있는가?</a></li><li><a href="#q6-싱글톤-패턴은-어떻게-사용하는가">Q6. 싱글톤 패턴은 어떻게 사용하는가?</a></li></ul></li></ul></div><p></p> <h2 id="예제-패턴-살펴보기"><a href="#예제-패턴-살펴보기" class="header-anchor">#</a> 예제 패턴 살펴보기</h2> <h3 id="q1-빌더-패턴은-얼마나-유용한가"><a href="#q1-빌더-패턴은-얼마나-유용한가" class="header-anchor">#</a> Q1. 빌더 패턴은 얼마나 유용한가?</h3> <ul><li>필드의 갯수가 많을 경우, 생성자나 세터를 통해 값을 설정하는건 복잡하고 헷갈린다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> dog<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> cat<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> pig<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>이런식으로 만들면 생성자의 인수로 너무 많이 들어가게 되서 복잡해진다.</li> <li>setter 를 사용해도 되는데, builder패턴을 사용하면 좀더 깔끔하다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BuilderVo</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">String</span> builderStringAttribute<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">BuilderVo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">BuilderVo</span><span class="token punctuation">(</span><span class="token class-name">String</span> builderStringAttribute<span class="token punctuation">,</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">,</span>
      <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>builderStringAttribute <span class="token operator">=</span> builderStringAttribute<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>builderIntAttriute <span class="token operator">=</span> builderIntAttriute<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>builderFloatAttribute <span class="token operator">=</span> builderFloatAttribute<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Builder</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> builderStringAttribute<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">withString</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> builderStringAttribute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>builderStringAttribute <span class="token operator">=</span> builderStringAttribute<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">withInt</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>builderIntAttriute <span class="token operator">=</span> builderIntAttriute<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">withFloat</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>builderFloatAttribute <span class="token operator">=</span> builderFloatAttribute<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">BuilderVo</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>builderStringAttribute <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span>
          builderIntAttriute <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span>
          builderFloatAttribute <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">&quot;Cannot create BuilderVo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BuilderVo</span><span class="token punctuation">(</span>builderStringAttribute<span class="token punctuation">,</span> builderIntAttriute<span class="token punctuation">,</span> builderFloatAttribute<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Builder 클래스. 생성시에 인자가 하나라도 빠져 있으면 IllegalStateException을 던져준다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code>  <span class="token annotation punctuation">@Test</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">legalBuilderTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Builder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">BuilderVo</span> builderVo <span class="token operator">=</span> builder
        <span class="token punctuation">.</span><span class="token function">withString</span><span class="token punctuation">(</span><span class="token string">&quot;ABCD&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">withInt</span><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">withFloat</span><span class="token punctuation">(</span><span class="token number">1234.0F</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Test</span><span class="token punctuation">(</span>expected <span class="token operator">=</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">illegalBuilderTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Builder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">BuilderVo</span> builderVo <span class="token operator">=</span> builder
        <span class="token punctuation">.</span><span class="token function">withString</span><span class="token punctuation">(</span><span class="token string">&quot;ABCD&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">withInt</span><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><ul><li>실제 Builder로 객체를 생성 &amp; 테스트하는 코드</li> <li>특정 인자를 디폴트 값으로 설정도 가능하다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BuilderVoDefaultValue</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">String</span> builderStringAttribute<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">BuilderVoDefaultValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">BuilderVoDefaultValue</span><span class="token punctuation">(</span><span class="token class-name">String</span> builderStringAttribute<span class="token punctuation">,</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">,</span>
      <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>builderStringAttribute <span class="token operator">=</span> builderStringAttribute<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>builderIntAttriute <span class="token operator">=</span> builderIntAttriute<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>builderFloatAttribute <span class="token operator">=</span> builderFloatAttribute<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Builder</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> builderStringAttribute <span class="token operator">=</span> <span class="token string">&quot;Default Value&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">withString</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> builderStringAttribute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>builderStringAttribute <span class="token operator">=</span> builderStringAttribute<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">withInt</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>builderIntAttriute <span class="token operator">=</span> builderIntAttriute<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">withFloat</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>builderFloatAttribute <span class="token operator">=</span> builderFloatAttribute<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">BuilderVoDefaultValue</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>builderIntAttriute <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span>
          builderFloatAttribute <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">&quot;Cannot create BuilderVoDefaultValue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BuilderVoDefaultValue</span><span class="token punctuation">(</span>builderStringAttribute<span class="token punctuation">,</span> builderIntAttriute<span class="token punctuation">,</span>
          builderFloatAttribute<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">builderWithDefaultValueTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">final</span> <span class="token class-name">BuilderVoDefaultValue</span><span class="token punctuation">.</span><span class="token class-name">Builder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BuilderVoDefaultValue</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">BuilderVoDefaultValue</span> builderVoDefaultValue <span class="token operator">=</span> builder
      <span class="token punctuation">.</span><span class="token function">withInt</span><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">withFloat</span><span class="token punctuation">(</span><span class="token number">1234.0F</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="q2-스트레티지-패턴의-예를-보여줄-수-있는가"><a href="#q2-스트레티지-패턴의-예를-보여줄-수-있는가" class="header-anchor">#</a> Q2. 스트레티지 패턴의 예를 보여줄 수 있는가?</h3> <ul><li>스트레티지 패턴은 지정된 알고리즘의 세부 구현을 변경할 필요 없이 쉽게 교환할 수 있게 해주는 디자인 패턴</li> <li>실행 중이더라도 구현된 알고리즘은 교활할 수 있어서, DI에 자주 사용된다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 콘솔 게임 인터페이스 작성</span>
<span class="token comment">// 게임기를 키는 메소드와 게임기를 끄는 메소드를 추상화 한다.</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ConsoleGame</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">turnOnGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">turnOffGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 콘솔 게임 인터페이스를 구현한 Switch, Ps4 클래스 작성</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Ps4</span> <span class="token keyword">implements</span> <span class="token class-name">ConsoleGame</span> <span class="token punctuation">{</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">turnOnGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;PS4 turned on&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">turnOffGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;PS4 turned off&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Switch</span> <span class="token keyword">implements</span> <span class="token class-name">ConsoleGame</span> <span class="token punctuation">{</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">turnOnGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Switch turned on&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">turnOffGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Switch turned off&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 실제로 게임을 할 GamePlayer 클래스 작성</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GamePlayer</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">ConsoleGame</span> consoleGame<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">GamePlayer</span><span class="token punctuation">(</span><span class="token class-name">ConsoleGame</span> consoleGame<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>consoleGame <span class="token operator">=</span> consoleGame<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">playGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    consoleGame<span class="token punctuation">.</span><span class="token function">turnOnGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;게임을 한다.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    consoleGame<span class="token punctuation">.</span><span class="token function">turnOffGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>GamePlayer 생성자의 인자로 인터페이스로 구현한 ConsoleGame 자료형의 객체를 받아, 실제로 선언할 때 어떠한 콘솔 종류의 게임을 받을지 미룬다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StrategyPatternTest</span> <span class="token punctuation">{</span>

  <span class="token annotation punctuation">@Test</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">strategyPatternPs4Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ConsoleGame</span> consoleGame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ps4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">GamePlayer</span> gamePlayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GamePlayer</span><span class="token punctuation">(</span>consoleGame<span class="token punctuation">)</span><span class="token punctuation">;</span>
    gamePlayer<span class="token punctuation">.</span><span class="token function">playGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Test</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">strategyPatternSwitchTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ConsoleGame</span> consoleGame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Switch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">GamePlayer</span> gamePlayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GamePlayer</span><span class="token punctuation">(</span>consoleGame<span class="token punctuation">)</span><span class="token punctuation">;</span>
    gamePlayer<span class="token punctuation">.</span><span class="token function">playGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>실제로 테스트를 한 결과</li></ul> <div class="language-java extra-class"><pre class="language-java"><code>PS4 turned on
게임을 한다<span class="token punctuation">.</span>
PS4 turned off

<span class="token class-name">Switch</span> turned on
게임을 한다<span class="token punctuation">.</span>
<span class="token class-name">Switch</span> turned off
</code></pre></div><ul><li>이런 패턴의 장점은, 만약 새로운 게임기기 XBOX가 추가되면, 기존의 소스의 수정없이 ConsoleGame을 구현한 XBOX만 추가하면 쉽게 구현이 가능하다.</li></ul> <h3 id="q3-템플릿-메소드-패턴은-어떻게-사용하는가"><a href="#q3-템플릿-메소드-패턴은-어떻게-사용하는가" class="header-anchor">#</a> Q3. 템플릿 메소드 패턴은 어떻게 사용하는가?</h3> <ul><li>템플릿 메소드 패턴은 공통된 기능은 상위 클래스에서 구현하고, 나머진 다 하위 클래스에 위임하는 패턴이다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Stack</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> initialState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stack <span class="token operator">=</span> initialState<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token keyword">int</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    stack<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> stack<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">Stack</span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">StackPredicate</span> filter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> initialState <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> integer <span class="token operator">:</span> stack<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>filter<span class="token punctuation">.</span><span class="token function">isValid</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        initialState<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span>initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">StackPredicate</span> <span class="token punctuation">{</span>

  <span class="token keyword">boolean</span> <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Stack Class의 필터를 보면, 필터링을 하는 로직을 인터페이스에다가 분리해 놓았다.(공통기능)</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TemplateMethodPatternTest</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">Stack</span> stack<span class="token punctuation">;</span>

  <span class="token annotation punctuation">@Before</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Test</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">evenPredicate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Stack</span> filtered <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StackPredicate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> filtered<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> filtered<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> filtered<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Test</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">allPredicate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Stack</span> filtered <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StackPredicate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> filtered<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span> filtered<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> filtered<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>실제 테스트 로직을 보면, isValid 메소드를 인터페이스에서 오버라이딩해 설정해줘서, 로직이 분리되어 있다. (공토된 기능..? 이라기엔 예시가 좀이상)</li></ul> <h2 id="일반적으로-사용하는-패턴"><a href="#일반적으로-사용하는-패턴" class="header-anchor">#</a> 일반적으로 사용하는 패턴</h2> <h3 id="q4-데코레이터-패턴의-예를-설명할-수-있는가"><a href="#q4-데코레이터-패턴의-예를-설명할-수-있는가" class="header-anchor">#</a> Q4. 데코레이터 패턴의 예를 설명할 수 있는가?</h3> <ul><li>특정 객체의 기능을 설정하거나 변경할 수 있게 해준다.</li> <li>특정 인터페이스를 구현한 클래스가 있을 때, 특정 기능들을 추가하기 위해 나온 패턴</li> <li><a href="https://ko.wikipedia.org/wiki/%EB%8D%B0%EC%BD%94%EB%A0%88%EC%9D%B4%ED%84%B0_%ED%8C%A8%ED%84%B4" target="_blank" rel="noopener noreferrer">위키피디아<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>기 구현된 구조에서 새로운 기능을 추가 할 때, 중복적으로 추가하기 싫은 경우에 쓰기 좋다. -&gt; 새기능 권한 위임</li> <li>대표적인 예로는 InputStream, OutputStream이 있다.</li> <li>Window 예제 구현</li></ul> <p><img src="/study-collection/assets/img/designPattern1.5a5eebbd.png" alt="DecoratorPattern"></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Window</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// draws the Window</span>

  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns a description of the Window</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>윈도우 인터페이스</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleWindow</span> <span class="token keyword">implements</span> <span class="token class-name">Window</span> <span class="token punctuation">{</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Draw Simple Window&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Simple Window&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>윈도우 인터페이스를 구현하는 실제 사용 객체인 SimpleWindow</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WindowDecorator</span> <span class="token keyword">implements</span> <span class="token class-name">Window</span> <span class="token punctuation">{</span>

  <span class="token keyword">protected</span> <span class="token class-name">Window</span> decoratedWindow<span class="token punctuation">;</span> <span class="token comment">// the Window being decorated</span>

  <span class="token keyword">public</span> <span class="token class-name">WindowDecorator</span><span class="token punctuation">(</span><span class="token class-name">Window</span> decoratedWindow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>decoratedWindow <span class="token operator">=</span> decoratedWindow<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// draw window</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Window Decorator&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>윈도우에 새로운 데코레이션을 넣기위한 추상 클래스 추가</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HorizontalScrollBarDecorator</span> <span class="token keyword">extends</span> <span class="token class-name">WindowDecorator</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token class-name">HorizontalScrollBarDecorator</span><span class="token punctuation">(</span><span class="token class-name">Window</span> decoratedWindow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>decoratedWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">drawHorizontalScrollBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    decoratedWindow<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">drawHorizontalScrollBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Draw Horizontal Scroll Bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> decoratedWindow<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, including horizontal scrollbars&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VerticalScrollBarDecorator</span> <span class="token keyword">extends</span> <span class="token class-name">WindowDecorator</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token class-name">VerticalScrollBarDecorator</span><span class="token punctuation">(</span><span class="token class-name">Window</span> decoratedWindow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>decoratedWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">drawVerticalScrollBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    decoratedWindow<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">drawVerticalScrollBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Draw Vertical Scroll Bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> decoratedWindow<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, including vertical scrollbars&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>윈도우에 추가할 데코레이션 클래스들. 실제로 Window를 구현한 WindowDecorator를 상속받아서, 심플 윈도우에서 따로 소스 추가 없이 위의 데코 기능들을 추가 할 수 있다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">decoratorPatternTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">Window</span> decoratedWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HorizontalScrollBarDecorator</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">VerticalScrollBarDecorator</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">SimpleWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  decoratedWindow<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>decoratedWindow<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

결과 <span class="token operator">:</span> 
<span class="token class-name">Draw</span> <span class="token class-name">Horizontal</span> <span class="token class-name">Scroll</span> <span class="token class-name">Bar</span>
<span class="token class-name">Draw</span> <span class="token class-name">Vertical</span> <span class="token class-name">Scroll</span> <span class="token class-name">Bar</span>
<span class="token class-name">Draw</span> <span class="token class-name">Simple</span> <span class="token class-name">Window</span>
<span class="token class-name">Simple</span> <span class="token class-name">Window</span><span class="token punctuation">,</span> including vertical scrollbars<span class="token punctuation">,</span> including horizontal scrollbars
</code></pre></div><h3 id="q5-플라이웨이트-패턴의-구현-방법을-설명할-수-있는가"><a href="#q5-플라이웨이트-패턴의-구현-방법을-설명할-수-있는가" class="header-anchor">#</a> Q5. 플라이웨이트 패턴의 구현 방법을 설명할 수 있는가?</h3> <ul><li>플라이웨이트 패턴은 몇 개의 객체에 많은 값을 공유해야 할 때 유용</li> <li>이런 인스턴스들은 객체가 없어지지 않으면 해당 값들을 공유할 수 있다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>low <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;=</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>high<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>cache<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>low<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">IntegerCache</span> <span class="token punctuation">{</span>
        <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> low <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">128</span><span class="token punctuation">;</span>
        <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> high<span class="token punctuation">;</span>
        <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Integer</span> cache<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">static</span> <span class="token punctuation">{</span>
            <span class="token comment">// high value may be configured by property</span>
            <span class="token keyword">int</span> h <span class="token operator">=</span> <span class="token number">127</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> integerCacheHighPropValue <span class="token operator">=</span>
                sun<span class="token punctuation">.</span>misc<span class="token punctuation">.</span>VM<span class="token punctuation">.</span><span class="token function">getSavedProperty</span><span class="token punctuation">(</span><span class="token string">&quot;java.lang.Integer.IntegerCache.high&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>integerCacheHighPropValue <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>integerCacheHighPropValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    i <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// Maximum array size is Integer.MAX_VALUE</span>
                    h <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span>MAX_VALUE <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token operator">-</span>low<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span> <span class="token class-name">NumberFormatException</span> nfe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// If the property cannot be parsed into an int, ignore it.</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            high <span class="token operator">=</span> h<span class="token punctuation">;</span>

            cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">(</span>high <span class="token operator">-</span> low<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> j <span class="token operator">=</span> low<span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> cache<span class="token punctuation">.</span>length<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>
                cache<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// range [-128, 127] must be interned (JLS7 5.1.7)</span>
            <span class="token keyword">assert</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>high <span class="token operator">&gt;=</span> <span class="token number">127</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">private</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sameIntegerInstances</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> <span class="token class-name">Integer</span> a <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Integer</span> b <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">assertSame</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">final</span> <span class="token class-name">Integer</span> c <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">472</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Integer</span> d <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">472</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">assertNotSame</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Integer가 대표적인 플라이웨이트 패턴</li> <li>캐시에서 설정된 범위에 있으면, 추가로 설정하지 않고 자원을 공유한다.</li> <li>매번 new Integer를 해대지 말자</li></ul> <h3 id="q6-싱글톤-패턴은-어떻게-사용하는가"><a href="#q6-싱글톤-패턴은-어떻게-사용하는가" class="header-anchor">#</a> Q6. 싱글톤 패턴은 어떻게 사용하는가?</h3> <ul><li>싱글톤 패턴은 클래스가 오직 하나의 인스턴스만 생성하는 것을 보장하는 패턴</li> <li>디비나 웹 서비스 등에서 해당 인스턴스에 접근할 수 있는 유일한 지점을 만드는데 사용</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>

  <span class="token comment">// 잘못된 예제</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> INSTANCE<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>INSTANCE <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      INSTANCE <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> INSTANCE<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">singletonMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// operations here</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 제대로 된 예제</span>
  <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">SingletonEnum</span> <span class="token punctuation">{</span>
    ENUM<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">singletonMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// operations here</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>잘못된 예제에선, getInstance에서 인스턴스 값이 null 이거나 if문 때문에 인스턴스가 초기화 되기 전에 스레드가 변경되거나 하면, 다른 스레드들이 getInstance를 호출하고, 계속해서 마구잡이로 생성하게 된다.</li> <li>enum을 사용하자</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/study-collection/book/JPIE/05.html" class="prev">5장 자료구조</a></span> <span class="next"><a href="/study-collection/book/JPIE/07.html">7장 자주 묻는 면접 알고리즘 구현하기</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/study-collection/assets/js/app.159b09d5.js" defer></script><script src="/study-collection/assets/js/2.3bb65b7d.js" defer></script><script src="/study-collection/assets/js/55.c5cbc804.js" defer></script>
  </body>
</html>

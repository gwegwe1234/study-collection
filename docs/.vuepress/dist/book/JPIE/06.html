<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>6강 | 끄적끄적 블로그</title>
    <meta name="description" content="개발 관련 블로그">
    <link rel="icon" href="/study-collection/favicon.ico">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons">
    
    <link rel="preload" href="/study-collection/assets/css/0.styles.48760978.css" as="style"><link rel="preload" href="/study-collection/assets/js/app.6ec0642b.js" as="script"><link rel="preload" href="/study-collection/assets/js/2.18a9e645.js" as="script"><link rel="preload" href="/study-collection/assets/js/59.27cffbd9.js" as="script"><link rel="prefetch" href="/study-collection/assets/js/10.74897f7c.js"><link rel="prefetch" href="/study-collection/assets/js/100.37f1e7f1.js"><link rel="prefetch" href="/study-collection/assets/js/101.baa7f2b7.js"><link rel="prefetch" href="/study-collection/assets/js/102.34d23602.js"><link rel="prefetch" href="/study-collection/assets/js/103.55cc7493.js"><link rel="prefetch" href="/study-collection/assets/js/104.2d27ab88.js"><link rel="prefetch" href="/study-collection/assets/js/105.0875e8d1.js"><link rel="prefetch" href="/study-collection/assets/js/106.13699a37.js"><link rel="prefetch" href="/study-collection/assets/js/107.1910c6a6.js"><link rel="prefetch" href="/study-collection/assets/js/108.d30741b0.js"><link rel="prefetch" href="/study-collection/assets/js/109.dc5b0908.js"><link rel="prefetch" href="/study-collection/assets/js/11.1f9fb9b0.js"><link rel="prefetch" href="/study-collection/assets/js/110.e11b171a.js"><link rel="prefetch" href="/study-collection/assets/js/111.326cbd21.js"><link rel="prefetch" href="/study-collection/assets/js/112.c419389a.js"><link rel="prefetch" href="/study-collection/assets/js/113.bc5cebd7.js"><link rel="prefetch" href="/study-collection/assets/js/114.6bb830cd.js"><link rel="prefetch" href="/study-collection/assets/js/115.041f78ee.js"><link rel="prefetch" href="/study-collection/assets/js/116.bba30344.js"><link rel="prefetch" href="/study-collection/assets/js/117.5693c7a6.js"><link rel="prefetch" href="/study-collection/assets/js/118.536a003f.js"><link rel="prefetch" href="/study-collection/assets/js/119.c8db7b8c.js"><link rel="prefetch" href="/study-collection/assets/js/12.e2bc7e0b.js"><link rel="prefetch" href="/study-collection/assets/js/120.17e4d9e1.js"><link rel="prefetch" href="/study-collection/assets/js/121.f9a0736b.js"><link rel="prefetch" href="/study-collection/assets/js/122.a357ce86.js"><link rel="prefetch" href="/study-collection/assets/js/123.61f94fc6.js"><link rel="prefetch" href="/study-collection/assets/js/124.e634361b.js"><link rel="prefetch" href="/study-collection/assets/js/125.ffa54557.js"><link rel="prefetch" href="/study-collection/assets/js/126.02c3a74c.js"><link rel="prefetch" href="/study-collection/assets/js/127.d94e002c.js"><link rel="prefetch" href="/study-collection/assets/js/128.29fb2fdb.js"><link rel="prefetch" href="/study-collection/assets/js/129.37a72012.js"><link rel="prefetch" href="/study-collection/assets/js/13.bb24e2ab.js"><link rel="prefetch" href="/study-collection/assets/js/130.75ecd74d.js"><link rel="prefetch" href="/study-collection/assets/js/131.0fa26aca.js"><link rel="prefetch" href="/study-collection/assets/js/132.1ead220a.js"><link rel="prefetch" href="/study-collection/assets/js/133.4008fbd6.js"><link rel="prefetch" href="/study-collection/assets/js/134.6c5bf933.js"><link rel="prefetch" href="/study-collection/assets/js/135.75b234ba.js"><link rel="prefetch" href="/study-collection/assets/js/136.6995c472.js"><link rel="prefetch" href="/study-collection/assets/js/137.b702adac.js"><link rel="prefetch" href="/study-collection/assets/js/138.89c190bf.js"><link rel="prefetch" href="/study-collection/assets/js/139.a6fb9a1e.js"><link rel="prefetch" href="/study-collection/assets/js/14.998ee23c.js"><link rel="prefetch" href="/study-collection/assets/js/140.503e9d32.js"><link rel="prefetch" href="/study-collection/assets/js/141.e50b224e.js"><link rel="prefetch" href="/study-collection/assets/js/142.771c71df.js"><link rel="prefetch" href="/study-collection/assets/js/143.e112afd3.js"><link rel="prefetch" href="/study-collection/assets/js/15.5354f8fa.js"><link rel="prefetch" href="/study-collection/assets/js/16.74b2865b.js"><link rel="prefetch" href="/study-collection/assets/js/17.cefbcea5.js"><link rel="prefetch" href="/study-collection/assets/js/18.f669f5ea.js"><link rel="prefetch" href="/study-collection/assets/js/19.87c3bb6d.js"><link rel="prefetch" href="/study-collection/assets/js/20.cd26fb61.js"><link rel="prefetch" href="/study-collection/assets/js/21.58c5cdbe.js"><link rel="prefetch" href="/study-collection/assets/js/22.eae0c2d5.js"><link rel="prefetch" href="/study-collection/assets/js/23.45e85fbf.js"><link rel="prefetch" href="/study-collection/assets/js/24.108e798e.js"><link rel="prefetch" href="/study-collection/assets/js/25.fad59bf7.js"><link rel="prefetch" href="/study-collection/assets/js/26.ff5e8bcd.js"><link rel="prefetch" href="/study-collection/assets/js/27.60016349.js"><link rel="prefetch" href="/study-collection/assets/js/28.8687702d.js"><link rel="prefetch" href="/study-collection/assets/js/29.4f6349ef.js"><link rel="prefetch" href="/study-collection/assets/js/3.11ec0f2f.js"><link rel="prefetch" href="/study-collection/assets/js/30.9e087b5e.js"><link rel="prefetch" href="/study-collection/assets/js/31.28287c0c.js"><link rel="prefetch" href="/study-collection/assets/js/32.f1592e07.js"><link rel="prefetch" href="/study-collection/assets/js/33.92a80f8f.js"><link rel="prefetch" href="/study-collection/assets/js/34.8b3a19e0.js"><link rel="prefetch" href="/study-collection/assets/js/35.7328426d.js"><link rel="prefetch" href="/study-collection/assets/js/36.fdf829b8.js"><link rel="prefetch" href="/study-collection/assets/js/37.e01a0037.js"><link rel="prefetch" href="/study-collection/assets/js/38.14090450.js"><link rel="prefetch" href="/study-collection/assets/js/39.35e09e63.js"><link rel="prefetch" href="/study-collection/assets/js/4.1014165b.js"><link rel="prefetch" href="/study-collection/assets/js/40.d78d4b4e.js"><link rel="prefetch" href="/study-collection/assets/js/41.80468bbf.js"><link rel="prefetch" href="/study-collection/assets/js/42.1ead3070.js"><link rel="prefetch" href="/study-collection/assets/js/43.9f45164e.js"><link rel="prefetch" href="/study-collection/assets/js/44.f6e8214f.js"><link rel="prefetch" href="/study-collection/assets/js/45.2685848e.js"><link rel="prefetch" href="/study-collection/assets/js/46.4d669452.js"><link rel="prefetch" href="/study-collection/assets/js/47.94ff4822.js"><link rel="prefetch" href="/study-collection/assets/js/48.ef145272.js"><link rel="prefetch" href="/study-collection/assets/js/49.8bfcbeba.js"><link rel="prefetch" href="/study-collection/assets/js/5.f66d055a.js"><link rel="prefetch" href="/study-collection/assets/js/50.9e9668b9.js"><link rel="prefetch" href="/study-collection/assets/js/51.a588d64e.js"><link rel="prefetch" href="/study-collection/assets/js/52.a22bc06e.js"><link rel="prefetch" href="/study-collection/assets/js/53.69db1fdb.js"><link rel="prefetch" href="/study-collection/assets/js/54.5f735d19.js"><link rel="prefetch" href="/study-collection/assets/js/55.f6e93fcf.js"><link rel="prefetch" href="/study-collection/assets/js/56.86f2346a.js"><link rel="prefetch" href="/study-collection/assets/js/57.d556fc33.js"><link rel="prefetch" href="/study-collection/assets/js/58.9187b91e.js"><link rel="prefetch" href="/study-collection/assets/js/6.37688d8f.js"><link rel="prefetch" href="/study-collection/assets/js/60.b1afb3d3.js"><link rel="prefetch" href="/study-collection/assets/js/61.a9345a0f.js"><link rel="prefetch" href="/study-collection/assets/js/62.ce1cf54b.js"><link rel="prefetch" href="/study-collection/assets/js/63.03440b9a.js"><link rel="prefetch" href="/study-collection/assets/js/64.8f7e83a9.js"><link rel="prefetch" href="/study-collection/assets/js/65.e08e4232.js"><link rel="prefetch" href="/study-collection/assets/js/66.5fc6e270.js"><link rel="prefetch" href="/study-collection/assets/js/67.5a5f76f2.js"><link rel="prefetch" href="/study-collection/assets/js/68.1a773fe5.js"><link rel="prefetch" href="/study-collection/assets/js/69.e1ed0f12.js"><link rel="prefetch" href="/study-collection/assets/js/7.965b4c94.js"><link rel="prefetch" href="/study-collection/assets/js/70.295b6dff.js"><link rel="prefetch" href="/study-collection/assets/js/71.4ddb4cd4.js"><link rel="prefetch" href="/study-collection/assets/js/72.5e06b635.js"><link rel="prefetch" href="/study-collection/assets/js/73.f9b7a13d.js"><link rel="prefetch" href="/study-collection/assets/js/74.625f28da.js"><link rel="prefetch" href="/study-collection/assets/js/75.16c7e29e.js"><link rel="prefetch" href="/study-collection/assets/js/76.a5a8eace.js"><link rel="prefetch" href="/study-collection/assets/js/77.eb940094.js"><link rel="prefetch" href="/study-collection/assets/js/78.764575cb.js"><link rel="prefetch" href="/study-collection/assets/js/79.13a145e2.js"><link rel="prefetch" href="/study-collection/assets/js/8.f8d51fcd.js"><link rel="prefetch" href="/study-collection/assets/js/80.bbaa88c0.js"><link rel="prefetch" href="/study-collection/assets/js/81.9ecccd6a.js"><link rel="prefetch" href="/study-collection/assets/js/82.523f3ffd.js"><link rel="prefetch" href="/study-collection/assets/js/83.def0a344.js"><link rel="prefetch" href="/study-collection/assets/js/84.27f749b8.js"><link rel="prefetch" href="/study-collection/assets/js/85.8288af3b.js"><link rel="prefetch" href="/study-collection/assets/js/86.b1ddd0ee.js"><link rel="prefetch" href="/study-collection/assets/js/87.740319f1.js"><link rel="prefetch" href="/study-collection/assets/js/88.1f9a119d.js"><link rel="prefetch" href="/study-collection/assets/js/89.5dd01859.js"><link rel="prefetch" href="/study-collection/assets/js/9.9e797604.js"><link rel="prefetch" href="/study-collection/assets/js/90.93c9855d.js"><link rel="prefetch" href="/study-collection/assets/js/91.52330ac2.js"><link rel="prefetch" href="/study-collection/assets/js/92.cca10b5a.js"><link rel="prefetch" href="/study-collection/assets/js/93.859303b4.js"><link rel="prefetch" href="/study-collection/assets/js/94.39b3494d.js"><link rel="prefetch" href="/study-collection/assets/js/95.c6a73885.js"><link rel="prefetch" href="/study-collection/assets/js/96.d80d1c2a.js"><link rel="prefetch" href="/study-collection/assets/js/97.876ac59e.js"><link rel="prefetch" href="/study-collection/assets/js/98.f8dd87c7.js"><link rel="prefetch" href="/study-collection/assets/js/99.1006b041.js">
    <link rel="stylesheet" href="/study-collection/assets/css/0.styles.48760978.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/study-collection/" class="home-link router-link-active"><!----> <span class="site-name">끄적끄적 블로그</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/study-collection/guide.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://github.com/gwegwe1234/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/study-collection/guide.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://github.com/gwegwe1234/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/study-collection/guide.html" class="sidebar-link">Intro</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Book summary</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>자바 프로그래밍 면접 이렇게 준비한다</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study-collection/book/JPIE/04.html" class="sidebar-link">4장 기본 알고리즘 작성하기</a></li><li><a href="/study-collection/book/JPIE/05.html" class="sidebar-link">5장 자료구조</a></li><li><a href="/study-collection/book/JPIE/06.html" class="active sidebar-link">6장 디자인 패턴</a></li><li><a href="/study-collection/book/JPIE/07.html" class="sidebar-link">7장 자주 묻는 면접 알고리즘 구현하기</a></li><li><a href="/study-collection/book/JPIE/08.html" class="sidebar-link">8장 자바 기본</a></li><li><a href="/study-collection/book/JPIE/09.html" class="sidebar-link">9장 JUnit으로 테스팅하기</a></li><li><a href="/study-collection/book/JPIE/10.html" class="sidebar-link">10장 자바 가상머신 이해하기</a></li><li><a href="/study-collection/book/JPIE/11.html" class="sidebar-link">11장 동시성</a></li><li><a href="/study-collection/book/JPIE/12.html" class="sidebar-link">12장 자바 어플리케이션과 데이터베이스 통합하기</a></li><li><a href="/study-collection/book/JPIE/13.html" class="sidebar-link">13장 웹 어플리케이션 만들기</a></li><li><a href="/study-collection/book/JPIE/14.html" class="sidebar-link">14장 HTTP와 REST 이용하기</a></li><li><a href="/study-collection/book/JPIE/15.html" class="sidebar-link">15장 직렬화</a></li><li><a href="/study-collection/book/JPIE/16.html" class="sidebar-link">16장 스프링 프레임워크</a></li><li><a href="/study-collection/book/JPIE/17.html" class="sidebar-link">17장 하이버네이트 사용하기</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>클린코드</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>스프링 인 액션</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>고 인 액션</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Go 언어를 활용한 마이크로서비스 개발</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>마이크로서비스 구축과 운영</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>카프카 스트림즈 인 액션</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>모던 자바 인 액션</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>객체지향의 사실과 오해</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>뇌를 자극하는 윈도우즈 시스템 프로그래밍</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tech</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_6강"><a href="#_6강" class="header-anchor">#</a> 6강</h1> <p></p><div class="table-of-contents"><ul><li><a href="#예제-패턴-살펴보기">예제 패턴 살펴보기</a><ul><li><a href="#q1-빌더-패턴은-얼마나-유용한가">Q1. 빌더 패턴은 얼마나 유용한가?</a></li><li><a href="#q2-스트레티지-패턴의-예를-보여줄-수-있는가">Q2. 스트레티지 패턴의 예를 보여줄 수 있는가?</a></li><li><a href="#q3-템플릿-메소드-패턴은-어떻게-사용하는가">Q3. 템플릿 메소드 패턴은 어떻게 사용하는가?</a></li></ul></li><li><a href="#일반적으로-사용하는-패턴">일반적으로 사용하는 패턴</a><ul><li><a href="#q4-데코레이터-패턴의-예를-설명할-수-있는가">Q4. 데코레이터 패턴의 예를 설명할 수 있는가?</a></li><li><a href="#q5-플라이웨이트-패턴의-구현-방법을-설명할-수-있는가">Q5. 플라이웨이트 패턴의 구현 방법을 설명할 수 있는가?</a></li><li><a href="#q6-싱글톤-패턴은-어떻게-사용하는가">Q6. 싱글톤 패턴은 어떻게 사용하는가?</a></li></ul></li></ul></div><p></p> <h2 id="예제-패턴-살펴보기"><a href="#예제-패턴-살펴보기" class="header-anchor">#</a> 예제 패턴 살펴보기</h2> <h3 id="q1-빌더-패턴은-얼마나-유용한가"><a href="#q1-빌더-패턴은-얼마나-유용한가" class="header-anchor">#</a> Q1. 빌더 패턴은 얼마나 유용한가?</h3> <ul><li>필드의 갯수가 많을 경우, 생성자나 세터를 통해 값을 설정하는건 복잡하고 헷갈린다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> dog<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> cat<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> pig<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>이런식으로 만들면 생성자의 인수로 너무 많이 들어가게 되서 복잡해진다.</li> <li>setter 를 사용해도 되는데, builder패턴을 사용하면 좀더 깔끔하다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BuilderVo</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">String</span> builderStringAttribute<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">BuilderVo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">BuilderVo</span><span class="token punctuation">(</span><span class="token class-name">String</span> builderStringAttribute<span class="token punctuation">,</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">,</span>
      <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>builderStringAttribute <span class="token operator">=</span> builderStringAttribute<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>builderIntAttriute <span class="token operator">=</span> builderIntAttriute<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>builderFloatAttribute <span class="token operator">=</span> builderFloatAttribute<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Builder</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> builderStringAttribute<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">withString</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> builderStringAttribute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>builderStringAttribute <span class="token operator">=</span> builderStringAttribute<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">withInt</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>builderIntAttriute <span class="token operator">=</span> builderIntAttriute<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">withFloat</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>builderFloatAttribute <span class="token operator">=</span> builderFloatAttribute<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">BuilderVo</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>builderStringAttribute <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span>
          builderIntAttriute <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span>
          builderFloatAttribute <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">&quot;Cannot create BuilderVo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BuilderVo</span><span class="token punctuation">(</span>builderStringAttribute<span class="token punctuation">,</span> builderIntAttriute<span class="token punctuation">,</span> builderFloatAttribute<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Builder 클래스. 생성시에 인자가 하나라도 빠져 있으면 IllegalStateException을 던져준다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code>  <span class="token annotation punctuation">@Test</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">legalBuilderTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Builder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">BuilderVo</span> builderVo <span class="token operator">=</span> builder
        <span class="token punctuation">.</span><span class="token function">withString</span><span class="token punctuation">(</span><span class="token string">&quot;ABCD&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">withInt</span><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">withFloat</span><span class="token punctuation">(</span><span class="token number">1234.0F</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Test</span><span class="token punctuation">(</span>expected <span class="token operator">=</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">illegalBuilderTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Builder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">BuilderVo</span> builderVo <span class="token operator">=</span> builder
        <span class="token punctuation">.</span><span class="token function">withString</span><span class="token punctuation">(</span><span class="token string">&quot;ABCD&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">withInt</span><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><ul><li>실제 Builder로 객체를 생성 &amp; 테스트하는 코드</li> <li>특정 인자를 디폴트 값으로 설정도 가능하다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BuilderVoDefaultValue</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">String</span> builderStringAttribute<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">BuilderVoDefaultValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">BuilderVoDefaultValue</span><span class="token punctuation">(</span><span class="token class-name">String</span> builderStringAttribute<span class="token punctuation">,</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">,</span>
      <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>builderStringAttribute <span class="token operator">=</span> builderStringAttribute<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>builderIntAttriute <span class="token operator">=</span> builderIntAttriute<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>builderFloatAttribute <span class="token operator">=</span> builderFloatAttribute<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Builder</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> builderStringAttribute <span class="token operator">=</span> <span class="token string">&quot;Default Value&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">withString</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> builderStringAttribute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>builderStringAttribute <span class="token operator">=</span> builderStringAttribute<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">withInt</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Integer</span> builderIntAttriute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>builderIntAttriute <span class="token operator">=</span> builderIntAttriute<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">withFloat</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Float</span> builderFloatAttribute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>builderFloatAttribute <span class="token operator">=</span> builderFloatAttribute<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">BuilderVoDefaultValue</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>builderIntAttriute <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span>
          builderFloatAttribute <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">&quot;Cannot create BuilderVoDefaultValue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BuilderVoDefaultValue</span><span class="token punctuation">(</span>builderStringAttribute<span class="token punctuation">,</span> builderIntAttriute<span class="token punctuation">,</span>
          builderFloatAttribute<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">builderWithDefaultValueTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">final</span> <span class="token class-name">BuilderVoDefaultValue</span><span class="token punctuation">.</span><span class="token class-name">Builder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BuilderVoDefaultValue</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">BuilderVoDefaultValue</span> builderVoDefaultValue <span class="token operator">=</span> builder
      <span class="token punctuation">.</span><span class="token function">withInt</span><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">withFloat</span><span class="token punctuation">(</span><span class="token number">1234.0F</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="q2-스트레티지-패턴의-예를-보여줄-수-있는가"><a href="#q2-스트레티지-패턴의-예를-보여줄-수-있는가" class="header-anchor">#</a> Q2. 스트레티지 패턴의 예를 보여줄 수 있는가?</h3> <ul><li>스트레티지 패턴은 지정된 알고리즘의 세부 구현을 변경할 필요 없이 쉽게 교환할 수 있게 해주는 디자인 패턴</li> <li>실행 중이더라도 구현된 알고리즘은 교활할 수 있어서, DI에 자주 사용된다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 콘솔 게임 인터페이스 작성</span>
<span class="token comment">// 게임기를 키는 메소드와 게임기를 끄는 메소드를 추상화 한다.</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ConsoleGame</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">turnOnGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">turnOffGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 콘솔 게임 인터페이스를 구현한 Switch, Ps4 클래스 작성</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Ps4</span> <span class="token keyword">implements</span> <span class="token class-name">ConsoleGame</span> <span class="token punctuation">{</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">turnOnGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;PS4 turned on&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">turnOffGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;PS4 turned off&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Switch</span> <span class="token keyword">implements</span> <span class="token class-name">ConsoleGame</span> <span class="token punctuation">{</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">turnOnGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Switch turned on&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">turnOffGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Switch turned off&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 실제로 게임을 할 GamePlayer 클래스 작성</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GamePlayer</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">ConsoleGame</span> consoleGame<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">GamePlayer</span><span class="token punctuation">(</span><span class="token class-name">ConsoleGame</span> consoleGame<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>consoleGame <span class="token operator">=</span> consoleGame<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">playGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    consoleGame<span class="token punctuation">.</span><span class="token function">turnOnGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;게임을 한다.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    consoleGame<span class="token punctuation">.</span><span class="token function">turnOffGameConsole</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>GamePlayer 생성자의 인자로 인터페이스로 구현한 ConsoleGame 자료형의 객체를 받아, 실제로 선언할 때 어떠한 콘솔 종류의 게임을 받을지 미룬다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StrategyPatternTest</span> <span class="token punctuation">{</span>

  <span class="token annotation punctuation">@Test</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">strategyPatternPs4Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ConsoleGame</span> consoleGame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ps4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">GamePlayer</span> gamePlayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GamePlayer</span><span class="token punctuation">(</span>consoleGame<span class="token punctuation">)</span><span class="token punctuation">;</span>
    gamePlayer<span class="token punctuation">.</span><span class="token function">playGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Test</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">strategyPatternSwitchTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ConsoleGame</span> consoleGame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Switch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">GamePlayer</span> gamePlayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GamePlayer</span><span class="token punctuation">(</span>consoleGame<span class="token punctuation">)</span><span class="token punctuation">;</span>
    gamePlayer<span class="token punctuation">.</span><span class="token function">playGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>실제로 테스트를 한 결과</li></ul> <div class="language-java extra-class"><pre class="language-java"><code>PS4 turned on
게임을 한다<span class="token punctuation">.</span>
PS4 turned off

<span class="token class-name">Switch</span> turned on
게임을 한다<span class="token punctuation">.</span>
<span class="token class-name">Switch</span> turned off
</code></pre></div><ul><li>이런 패턴의 장점은, 만약 새로운 게임기기 XBOX가 추가되면, 기존의 소스의 수정없이 ConsoleGame을 구현한 XBOX만 추가하면 쉽게 구현이 가능하다.</li></ul> <h3 id="q3-템플릿-메소드-패턴은-어떻게-사용하는가"><a href="#q3-템플릿-메소드-패턴은-어떻게-사용하는가" class="header-anchor">#</a> Q3. 템플릿 메소드 패턴은 어떻게 사용하는가?</h3> <ul><li>템플릿 메소드 패턴은 공통된 기능은 상위 클래스에서 구현하고, 나머진 다 하위 클래스에 위임하는 패턴이다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Stack</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> initialState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stack <span class="token operator">=</span> initialState<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token keyword">int</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    stack<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> stack<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">Stack</span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">StackPredicate</span> filter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> initialState <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> integer <span class="token operator">:</span> stack<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>filter<span class="token punctuation">.</span><span class="token function">isValid</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        initialState<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span>initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">StackPredicate</span> <span class="token punctuation">{</span>

  <span class="token keyword">boolean</span> <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Stack Class의 필터를 보면, 필터링을 하는 로직을 인터페이스에다가 분리해 놓았다.(공통기능)</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TemplateMethodPatternTest</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">Stack</span> stack<span class="token punctuation">;</span>

  <span class="token annotation punctuation">@Before</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Test</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">evenPredicate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Stack</span> filtered <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StackPredicate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> filtered<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> filtered<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> filtered<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Test</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">allPredicate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Stack</span> filtered <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StackPredicate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> filtered<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span> filtered<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> filtered<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>실제 테스트 로직을 보면, isValid 메소드를 인터페이스에서 오버라이딩해 설정해줘서, 로직이 분리되어 있다. (공토된 기능..? 이라기엔 예시가 좀이상)</li></ul> <h2 id="일반적으로-사용하는-패턴"><a href="#일반적으로-사용하는-패턴" class="header-anchor">#</a> 일반적으로 사용하는 패턴</h2> <h3 id="q4-데코레이터-패턴의-예를-설명할-수-있는가"><a href="#q4-데코레이터-패턴의-예를-설명할-수-있는가" class="header-anchor">#</a> Q4. 데코레이터 패턴의 예를 설명할 수 있는가?</h3> <ul><li>특정 객체의 기능을 설정하거나 변경할 수 있게 해준다.</li> <li>특정 인터페이스를 구현한 클래스가 있을 때, 특정 기능들을 추가하기 위해 나온 패턴</li> <li><a href="https://ko.wikipedia.org/wiki/%EB%8D%B0%EC%BD%94%EB%A0%88%EC%9D%B4%ED%84%B0_%ED%8C%A8%ED%84%B4" target="_blank" rel="noopener noreferrer">위키피디아<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>기 구현된 구조에서 새로운 기능을 추가 할 때, 중복적으로 추가하기 싫은 경우에 쓰기 좋다. -&gt; 새기능 권한 위임</li> <li>대표적인 예로는 InputStream, OutputStream이 있다.</li> <li>Window 예제 구현</li></ul> <p><img src="/study-collection/assets/img/designPattern1.5a5eebbd.png" alt="DecoratorPattern"></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Window</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// draws the Window</span>

  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns a description of the Window</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>윈도우 인터페이스</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleWindow</span> <span class="token keyword">implements</span> <span class="token class-name">Window</span> <span class="token punctuation">{</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Draw Simple Window&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Simple Window&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>윈도우 인터페이스를 구현하는 실제 사용 객체인 SimpleWindow</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WindowDecorator</span> <span class="token keyword">implements</span> <span class="token class-name">Window</span> <span class="token punctuation">{</span>

  <span class="token keyword">protected</span> <span class="token class-name">Window</span> decoratedWindow<span class="token punctuation">;</span> <span class="token comment">// the Window being decorated</span>

  <span class="token keyword">public</span> <span class="token class-name">WindowDecorator</span><span class="token punctuation">(</span><span class="token class-name">Window</span> decoratedWindow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>decoratedWindow <span class="token operator">=</span> decoratedWindow<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// draw window</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Window Decorator&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>윈도우에 새로운 데코레이션을 넣기위한 추상 클래스 추가</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HorizontalScrollBarDecorator</span> <span class="token keyword">extends</span> <span class="token class-name">WindowDecorator</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token class-name">HorizontalScrollBarDecorator</span><span class="token punctuation">(</span><span class="token class-name">Window</span> decoratedWindow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>decoratedWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">drawHorizontalScrollBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    decoratedWindow<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">drawHorizontalScrollBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Draw Horizontal Scroll Bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> decoratedWindow<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, including horizontal scrollbars&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VerticalScrollBarDecorator</span> <span class="token keyword">extends</span> <span class="token class-name">WindowDecorator</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token class-name">VerticalScrollBarDecorator</span><span class="token punctuation">(</span><span class="token class-name">Window</span> decoratedWindow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>decoratedWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">drawVerticalScrollBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    decoratedWindow<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">drawVerticalScrollBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Draw Vertical Scroll Bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> decoratedWindow<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, including vertical scrollbars&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>윈도우에 추가할 데코레이션 클래스들. 실제로 Window를 구현한 WindowDecorator를 상속받아서, 심플 윈도우에서 따로 소스 추가 없이 위의 데코 기능들을 추가 할 수 있다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">decoratorPatternTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">Window</span> decoratedWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HorizontalScrollBarDecorator</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">VerticalScrollBarDecorator</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">SimpleWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  decoratedWindow<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>decoratedWindow<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

결과 <span class="token operator">:</span> 
<span class="token class-name">Draw</span> <span class="token class-name">Horizontal</span> <span class="token class-name">Scroll</span> <span class="token class-name">Bar</span>
<span class="token class-name">Draw</span> <span class="token class-name">Vertical</span> <span class="token class-name">Scroll</span> <span class="token class-name">Bar</span>
<span class="token class-name">Draw</span> <span class="token class-name">Simple</span> <span class="token class-name">Window</span>
<span class="token class-name">Simple</span> <span class="token class-name">Window</span><span class="token punctuation">,</span> including vertical scrollbars<span class="token punctuation">,</span> including horizontal scrollbars
</code></pre></div><h3 id="q5-플라이웨이트-패턴의-구현-방법을-설명할-수-있는가"><a href="#q5-플라이웨이트-패턴의-구현-방법을-설명할-수-있는가" class="header-anchor">#</a> Q5. 플라이웨이트 패턴의 구현 방법을 설명할 수 있는가?</h3> <ul><li>플라이웨이트 패턴은 몇 개의 객체에 많은 값을 공유해야 할 때 유용</li> <li>이런 인스턴스들은 객체가 없어지지 않으면 해당 값들을 공유할 수 있다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>low <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;=</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>high<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>cache<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>low<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">IntegerCache</span> <span class="token punctuation">{</span>
        <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> low <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">128</span><span class="token punctuation">;</span>
        <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> high<span class="token punctuation">;</span>
        <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Integer</span> cache<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">static</span> <span class="token punctuation">{</span>
            <span class="token comment">// high value may be configured by property</span>
            <span class="token keyword">int</span> h <span class="token operator">=</span> <span class="token number">127</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> integerCacheHighPropValue <span class="token operator">=</span>
                sun<span class="token punctuation">.</span>misc<span class="token punctuation">.</span>VM<span class="token punctuation">.</span><span class="token function">getSavedProperty</span><span class="token punctuation">(</span><span class="token string">&quot;java.lang.Integer.IntegerCache.high&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>integerCacheHighPropValue <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>integerCacheHighPropValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    i <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// Maximum array size is Integer.MAX_VALUE</span>
                    h <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span>MAX_VALUE <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token operator">-</span>low<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span> <span class="token class-name">NumberFormatException</span> nfe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// If the property cannot be parsed into an int, ignore it.</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            high <span class="token operator">=</span> h<span class="token punctuation">;</span>

            cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">(</span>high <span class="token operator">-</span> low<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> j <span class="token operator">=</span> low<span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> cache<span class="token punctuation">.</span>length<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>
                cache<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// range [-128, 127] must be interned (JLS7 5.1.7)</span>
            <span class="token keyword">assert</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>high <span class="token operator">&gt;=</span> <span class="token number">127</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">private</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sameIntegerInstances</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> <span class="token class-name">Integer</span> a <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Integer</span> b <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">assertSame</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">final</span> <span class="token class-name">Integer</span> c <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">472</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Integer</span> d <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">472</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">assertNotSame</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Integer가 대표적인 플라이웨이트 패턴</li> <li>캐시에서 설정된 범위에 있으면, 추가로 설정하지 않고 자원을 공유한다.</li> <li>매번 new Integer를 해대지 말자</li></ul> <h3 id="q6-싱글톤-패턴은-어떻게-사용하는가"><a href="#q6-싱글톤-패턴은-어떻게-사용하는가" class="header-anchor">#</a> Q6. 싱글톤 패턴은 어떻게 사용하는가?</h3> <ul><li>싱글톤 패턴은 클래스가 오직 하나의 인스턴스만 생성하는 것을 보장하는 패턴</li> <li>디비나 웹 서비스 등에서 해당 인스턴스에 접근할 수 있는 유일한 지점을 만드는데 사용</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>

  <span class="token comment">// 잘못된 예제</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> INSTANCE<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>INSTANCE <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      INSTANCE <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> INSTANCE<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">singletonMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// operations here</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 제대로 된 예제</span>
  <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">SingletonEnum</span> <span class="token punctuation">{</span>
    ENUM<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">singletonMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// operations here</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>잘못된 예제에선, getInstance에서 인스턴스 값이 null 이거나 if문 때문에 인스턴스가 초기화 되기 전에 스레드가 변경되거나 하면, 다른 스레드들이 getInstance를 호출하고, 계속해서 마구잡이로 생성하게 된다.</li> <li>enum을 사용하자</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/study-collection/book/JPIE/05.html" class="prev">5장 자료구조</a></span> <span class="next"><a href="/study-collection/book/JPIE/07.html">7장 자주 묻는 면접 알고리즘 구현하기</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/study-collection/assets/js/app.6ec0642b.js" defer></script><script src="/study-collection/assets/js/2.18a9e645.js" defer></script><script src="/study-collection/assets/js/59.27cffbd9.js" defer></script>
  </body>
</html>

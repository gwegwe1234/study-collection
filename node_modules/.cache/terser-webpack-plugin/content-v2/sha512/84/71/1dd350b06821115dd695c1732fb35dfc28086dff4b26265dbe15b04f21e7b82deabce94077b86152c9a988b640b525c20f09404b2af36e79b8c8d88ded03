{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{210:function(t,a,s){t.exports=s.p+\"assets/img/aop.71ef000a.jpg\"},211:function(t,a,s){t.exports=s.p+\"assets/img/aop2.0707afca.jpg\"},212:function(t,a,s){t.exports=s.p+\"assets/img/aop3.8872a3ed.jpg\"},213:function(t,a,s){t.exports=s.p+\"assets/img/aop4.2fe49fbe.jpg\"},214:function(t,a,s){t.exports=s.p+\"assets/img/aop5.7306a170.jpg\"},215:function(t,a,s){t.exports=s.p+\"assets/img/aop6.28378646.jpg\"},216:function(t,a,s){t.exports=s.p+\"assets/img/aop7.d4aaf843.jpg\"},217:function(t,a,s){t.exports=s.p+\"assets/img/aop8.a81eef85.jpg\"},319:function(t,a,s){\"use strict\";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[n(\"h1\",{attrs:{id:\"_4강\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4강\"}},[t._v(\"#\")]),t._v(\" 4강\")]),t._v(\" \"),n(\"h2\",{attrs:{id:\"_1-aop란\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-aop란\"}},[t._v(\"#\")]),t._v(\" 1. AOP란?\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"애스팩트의 목적은 횡단 관심사의 모듈화 이다.\")]),t._v(\" \"),n(\"li\",[t._v(\"즉 한 프로젝트에서 여러부분에 영향을 주는 기능이다.\")]),t._v(\" \"),n(\"li\",[t._v(\"횡단으로 중복된 코드를 줄여주는 역할을 한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"대부분의 서비스들은 로깅과 트랜잭션 처리같은 기능이 필요하지만, 모든 비지니스 로직에 해당 기능이 들어가면 보기가 싫다.\")])]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:s(210),alt:\"Alt text\"}})]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"애스팩트는 여러 애플리케이션 객체에 걸치는 로직에 적용된 횡단 관심사 (로깅, 트랜잭션 등)를 모듈화 한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"객체 지향에서 공통된 기능을 재사용 하기위해 사용하는 기법\")]),t._v(\" \"),n(\"li\",[t._v(\"AOP도 공통 기능을 한곳에 모아두어 선언적으로 적용할지 선언이 가능하고, 대상클래스의 수정없이 적용이 가능하다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-zsh extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"AOP의 장점\\n1. 전체 코드 기반에 흩어져있는 공통적인 기능이 하나의 장소로 응집된다.\\n2. 서비스 로직에서 실제 비지니스 로직을 제외한 기능들을 모두 애스팩트로 모아둬 코드가 깔끔하다.\\n\")])])]),n(\"h2\",{attrs:{id:\"_2-aop-용어\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-aop-용어\"}},[t._v(\"#\")]),t._v(\" 2. AOP 용어\")]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:s(211),alt:\"Alt text\"}})]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_2-1-어드바이스\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-1-어드바이스\"}},[t._v(\"#\")]),t._v(\" 2-1 어드바이스\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"애스팩트가 해야할 작업을 AOP 용어에서 어드바이스라고 정의한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"어드바이스는 애스팩트가 \"),n(\"em\",[t._v(\"무엇\")]),t._v(\"을 \"),n(\"em\",[t._v(\"언제\")]),t._v(\" 할지를 정의한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"어드바이스 종류\\n- before : 어드바이스 대상 메소드가 호출되기 전에 어드바이스 기능 수행\\n- after : 결과에 상관 없이 어드바이스 대상 메소드가 완료된 이후에 어드바이스 기능 수행\\n- after-returning : 대상 메소드가 성공적으로 리턴한 후 어드바이스 기능 수행\\n- after-throwing : 대상 메소드가 예외를 던진 후 어드바이스 기능 수행\\n- around : 어드바이스가 어드바이스 대상 메소드를 감싸 전,후로 작동\\n\")])])]),n(\"h3\",{attrs:{id:\"_2-2-조인포인트\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-2-조인포인트\"}},[t._v(\"#\")]),t._v(\" 2-2 조인포인트\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"어드바이스를 적용 할 수 있는 곳을 조인포인트 라고 정의한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"끼울 수 있는 지점은 메소드 호출 지점, 예외발생, 필드 값 수정 등이 있다.\")]),t._v(\" \"),n(\"li\",[t._v(\"조인포인트에 애스팩트가 삽입되면 정상적인 어플리케이션 흐름에 추가 기능이 적용 된다.\")])]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_2-3-포인트커트\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-3-포인트커트\"}},[t._v(\"#\")]),t._v(\" 2-3 포인트커트\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"포인트커트란 애스팩트가 어드바이스 할 조인포인트의 영역을 좁히는 일을 하는 기능이다.\")]),t._v(\" \"),n(\"li\",[t._v(\"어드바이스는 무엇을 언제 라면 포인트커트는 \"),n(\"em\",[t._v(\"어디서\")]),t._v(\" 할지를 정의한다.\")])]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_2-4-애스펙트\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-4-애스펙트\"}},[t._v(\"#\")]),t._v(\" 2-4 애스펙트\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"어드바이스 + 포인트커트 = 애스팩트\")])]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_2-5-인트로덕션\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-5-인트로덕션\"}},[t._v(\"#\")]),t._v(\" 2-5 인트로덕션\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"인트로덕션은 기존 코드 수정 없이 메소드나 멤버 변수를 추가하는 기능\")])]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_2-6-위빙\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-6-위빙\"}},[t._v(\"#\")]),t._v(\" 2-6 위빙\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"타깃 객체에 애스펙트를 적용해 새로운 프록시 객체를 생성하는 절차\")]),t._v(\" \"),n(\"li\",[t._v(\"애스팩트는 타깃 객체의 조인포인트로 위빙된다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"수행 시점\\n- compile time : 타깃 클래스가 컴파일 될 때 애스펙트가 위빙되며, 별도의 컴파일러가 필요. AspectJ의 위빙 컴파일러는 이러한 목적으로 사용된다.\\n- classload time : 클래스가 JVM에 로드될 때 애스팩트가 위빙된다. 특정 클래스 로더 필요\\n- runtime : 애플리케이션 실행 중에 애스팩트가 위빙된다. 보통 타깃 객체에 호출을 위임하는 구조의 프록시 객체를 위빙중에 AOP 컨테이너가 동적으로 만들어 낸다. 스프링의 AOP 위빙 방식\\n\")])])]),n(\"h2\",{attrs:{id:\"_3-스프링의-aop\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-스프링의-aop\"}},[t._v(\"#\")]),t._v(\" 3. 스프링의 AOP\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"스프링은 4가지 형태의 AOP를 지원\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"- classic 스프링 프록시 기반 AOP\\n- Pure-POJO 애스팩트\\n- @AspectJ 어노테이션 기반 애스팩트\\n- AspectJ 애스펙트에 빈 주입 (스프링의 모든 버전 지원)\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"클래식은 복잡하니 버림\")]),t._v(\" \"),n(\"li\",[t._v(\"스프링에서 생성하는 모든 어드바이스는 표준 자바 클래스로 작성한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"포인트 커트의 경우 어드바이스를 적용할 곳을 정의하는데, 보통 xml(...) 설정을 해주면 된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"AspectJ는 지금은 어노테이션기반으로 작동하지만, 자바 언어를 확장한 형태라 러닝커브가 높다.\")])]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:s(212),alt:\"Alt text\"}})]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"스프링에서의 어드바이스는 위의 그림처럼 프록시객체가 타깃 객체를 감싸고, 대상 메소드로의 호출을 가로챈 후 타깃 객체로 호출을 포워딩 해준다.\")]),t._v(\" \"),n(\"li\",[t._v(\"애스펙트의 로직은 프록시가 메소드의 호출을 훔친 후에 실행되고, 그 이후에 타깃 빈의 메소드가 호출된다. (after 일땐?)\")]),t._v(\" \"),n(\"li\",[t._v(\"스프링은 프록시 타깃 빈을 실제 필요로 하기 전까지 프록시 타깃 객체를 생성하지 않는다.\")]),t._v(\" \"),n(\"li\",[t._v(\"스프링은 런타임 시에 프록시를 생성하므로, 스프링 AOP의 애스팩트를 위빙하기 위한 별도의 컴파일러는 필요로 하지 않는다.\")]),t._v(\" \"),n(\"li\",[t._v(\"스프링은 메소드 조인포인트만 지원한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"AspectJ나 JBoss같은 AOP 프레임워크들은 필드나 생성자 조인 포인트까지 제공\")]),t._v(\" \"),n(\"li\",[t._v(\"즉 스프링은 필드같은걸 포인트커트로 지정이 불가능헤, 세밀하게 필드값 조정같은건 안된다.\")])]),t._v(\" \"),n(\"h2\",{attrs:{id:\"_4-포인트커트를-이용한-조인포인트-선택\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-포인트커트를-이용한-조인포인트-선택\"}},[t._v(\"#\")]),t._v(\" 4. 포인트커트를 이용한 조인포인트 선택\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"스프링은 AspectJ에서 지정자에 속하는 포인트커트만 지원한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"package\")]),t._v(\" concert\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"interface\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Performance\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"perform\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"위의 소스에서 Performance 의 perform() 메소드를 트리거링하는 애스팩트를 작성할 수 있다.\")])]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:s(213),alt:\"Alt text\"}})]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"AspectJ의 포인트커트 표현식을 이용한 Performance의 perform() 메소드 선택\")]),t._v(\" \"),n(\"li\",[t._v(\"*은 모든타입 리턴이고, 패키지+클래스 명과 메소드명 지정, 이후에 받는 인자를 적어준다.\")])]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:s(214),alt:\"Alt text\"}})]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"위에처럼 콘서트 패키지에서 호출건만 처리하도록 제한을 둘 수도 있다.\")]),t._v(\" \"),n(\"li\",[t._v(\"포인트커트에서 bean() 지정자 사용이 가능하다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"execution\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"*\")]),t._v(\" concert\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Performance\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"perform\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" and \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"bean\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'woodstock'\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),n(\"h2\",{attrs:{id:\"_5-애스펙트-어노테이션-만들기\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-애스펙트-어노테이션-만들기\"}},[t._v(\"#\")]),t._v(\" 5. 애스펙트 어노테이션 만들기\")]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_5-1-애스팩트-정의\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-1-애스팩트-정의\"}},[t._v(\"#\")]),t._v(\" 5-1 애스팩트 정의\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"@Aspect 어노테이션을 사용하면 클래스를 애스펙트로 바꿀 수 있다.\")]),t._v(\" \"),n(\"li\",[t._v(\"위의 Performance 예시를 다시 사용해보자\")]),t._v(\" \"),n(\"li\",[t._v(\"공연에 관객이 없으면 공연은 의미가없다. 하지만 공연 자체의 기능은 관객이 아니다. 따라서 관객은 애스펙트로 지정해줄 수 있다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"package\")]),t._v(\" concert\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Aspect\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Audience\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 공연 이전에 관객이 해야할 행동\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Before\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"execution(** concert.Performance.perform(..))\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"silenceCellPhone\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 공연 이전에 관객이 해야할 행동\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Before\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"execution(** concert.Performance.perform(..))\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"takeSeats\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 공연 이후에 관객이 해야할 행동\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@AfterReturning\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"execution(** concert.Performance.perform(..))\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"applause\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 공연이 실패하면 관객이 해야할 행동\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@AfterThrowing\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"execution(** concert.Performance.perform(..))\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"demandRefund\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"맨위의 @Aspect 어노테이션은 해당 관객 클래스가 POJO가 아닌 애스펙트임을 명시해 준다.\")]),t._v(\" \"),n(\"li\",[t._v(\"관객은 공연(어드바이스된 타깃 클래스)의 전,후,문제발생 시의 행동을 어노테이션을 통해 정의가 가능하다.\")]),t._v(\" \"),n(\"li\",[t._v(\"모든 어노테이션은 포인트커트 표현식 값의 형태로 설정된다. (execution...)\")]),t._v(\" \"),n(\"li\",[t._v(\"위의 예시에서 모든 어드바이스 어노테이션은 같은 포인트커트 표현식을 사용하고 있어 중복된 모습이 별로다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"package\")]),t._v(\" concert\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Aspect\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Audience\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Pointcut\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"execution(** concert.Performance.perform(..))\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"performance\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 공연 이전에 관객이 해야할 행동\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Before\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"performance()\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"silenceCellPhone\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 공연 이전에 관객이 해야할 행동\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Before\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"performance()\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"takeSeats\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 공연 이후에 관객이 해야할 행동\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@AfterReturning\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"performance()\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"applause\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 공연이 실패하면 관객이 해야할 행동\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@AfterThrowing\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"performance()\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"demandRefund\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"중복은 보기 싫으니까 @Pointcut 어노테이션을 사용해 특정 포인트커트 표현식을 따로 정의해 주도록 하자.\")]),t._v(\" \"),n(\"li\",[t._v(\"Audience 클래스는 어노테이션과 별개로 POJO 이다.. (이거 뭔소린지 모르겠음. 위에선 아니랬는데)\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Bean\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Audience\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"audience\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Audience\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 이런식으로 다른 자바 클래스처럼 스프링에서 빈으로 와이어링 된다.\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"이렇게만 설정해주면 Audience는 일반 스프링 빈처럼 사용된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"애스팩트 어노테이션을 썼지만, 애스팩트로 변경해주는 프록시를 생성하고, 어노테이션을 해석하기 위해선 @EnableAspectJAutoProxy 어노테이션을 JavaConfig에 넣어줘서 오토프록싱을 가능하게 해야한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Configuration\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@EnableAspectJAutoProxy\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// AspectJ 오토 프록싱 할성화\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@ComponentScan\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ConcertConfig\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Bean\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Audience\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"audience\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Audience\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 빈선언\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"h3\",{attrs:{id:\"_5-2-around-어드바이스\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-2-around-어드바이스\"}},[t._v(\"#\")]),t._v(\" 5-2 Around 어드바이스\")]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Aspect\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Audience\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Pointcut\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"execution(** concert.Performance.perform(..))\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"performance\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Around\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"performance()\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"watchPerformance\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ProceedingJoinPoint\")]),t._v(\" jp\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"try\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n            \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Syso\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"silent\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Syso\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"take seat\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n            jp\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"proceed\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n            \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Syso\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"Applause\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"catch\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Throwable\")]),t._v(\" e\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n            \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Syso\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"refund\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"@Around 어드바이스는 watchPerformance() 메소드에 포인트커트가 적용 되었다.\")]),t._v(\" \"),n(\"li\",[t._v(\"이전에 4개로 나눠진 어드바이스는 하나로 뭉쳐졌다.\")]),t._v(\" \"),n(\"li\",[t._v(\"특이한건 ProceedingJoinPoint를 파라미터로 받는데, 이건 어드바이스 대상 메소드를 실행을 제어하는거라고 생각하면 된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"즉 silent, seat 을 하고난 후, jp.proceed() 를 하면 공연 (perform()) 메소드를 실행하고, 이후에 박수를 치게 된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"@Around 어노테이션을 쓰려면 ProceedingJoinPoint는 필수!\")]),t._v(\" \"),n(\"li\",[t._v(\"재밌는건 저 proceed()메소드는 어드바이스 내에서 여러번 호출이 가능하다. 즉 대상 메소드 반복 수행하는 재시도 로직도 구현이 가능하다.\")])]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_5-3-어드바이스에서-파라미터-처리\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-3-어드바이스에서-파라미터-처리\"}},[t._v(\"#\")]),t._v(\" 5-3 어드바이스에서 파라미터 처리\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"어드바이스에서 파라미터를 받아 처리할 수도 있다.\")]),t._v(\" \"),n(\"li\",[t._v(\"blank disc에 플레이 횟수를 카운트하는 애스펙트를 만든다고 가정하면\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Aspect\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"TrackCounter\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"private\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Map\")]),n(\"span\",{pre:!0,attrs:{class:\"token generics\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Integer\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Integer\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\" trackCounts \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"HashMap\")]),n(\"span\",{pre:!0,attrs:{class:\"token generics\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Integer\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Integer\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Pointcut\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"execution(* soundsystem.CompactDisc.playTrack(int))\"')]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"&& args(trackNumber)\"')]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"trackPlayed\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" trackNumber\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Before\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"trackPlayed(trackNumber)\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"countTrack\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" trackNumber\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" currentCount \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"getPlayCount\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"trackNumber\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n        trackCounts\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"put\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"trackNumber\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" currentCount\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"+\")]),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"getPlayCount\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" trackNumber\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" trackCounts\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"containsKey\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"trackNumber\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \\n            \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"?\")]),t._v(\" trackCounts\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"get\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"trackNumber\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"p\",[n(\"img\",{attrs:{src:s(215),alt:\"Alt text\"}})]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"이전 것과의 차이는 trackNumber라는 파라미터를 받았다.\")]),t._v(\" \"),n(\"li\",[t._v(\"Pointcut에 정의되어있는 args(trackNumber) 식별자로, playTrack() 메소드에 전달되는 int인자가 어드바이스에도 똑같이 전해진다는 것을 뜻한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"즉 실제로직에서 playTrack(3); 을 하면, 어드바이스에서도 인자로 3을 받게 된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"그리고 나서, 실제로 그 3이라는 인자는 trackPlayed 포인트커트로 설정된 @Before로 정의되어 있는 메소드 countTrack의 인자 (int trackNumber) 에도 전달이 되게 된다. (꼬리에 꼬리에 꼬리에)\")])]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_5-4-인트로덕션-어노테이션\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-4-인트로덕션-어노테이션\"}},[t._v(\"#\")]),t._v(\" 5-4 인트로덕션 어노테이션\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"AOP를 이용하면, 루비나 그루비처럼 동적으로 객체나 클래스에 새로운 메소드를 추가해주는 기능을 유사하게 구현이 가능하다.\")]),t._v(\" \"),n(\"li\",[t._v(\"실제로 객체에 새로운 메소드를 추가하진 않았지만, 위에서 구현한 것처럼 Around 어드바이스를 사용하면 기존 메소드 전, 후로 새로운 기능을 추가 할 수있다.\")]),t._v(\" \"),n(\"li\",[t._v(\"이러한 개념과 비슷하게 실제로 새롭게 도입된 AOP개념으로 애스펙트는 스프링 빈에 새로운 메소드(?!)를 추가 할 수 있다.\")])]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:s(216),alt:\"Alt text\"}})]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"실제로 애스펙트는 어드바이스 대상 빈과 동일한 인터페이스를 구현하는 프록시 일 뿐이다.\")]),t._v(\" \"),n(\"li\",[t._v(\"반대로 생각해서 위의 그림처럼 하부 구현 클래스가 없어도, 애스펙트가 어드바이스한 모든 빈은 새로운 인터페이스를 구현하기 위해 나타난다. (그냥 새로 생성되는거인듯)\")]),t._v(\" \"),n(\"li\",[t._v(\"정리하면 스프링 AOP로 새로운 메소드를 빈에 추가하게 되면 프록시는 메소드 호출을 가로채고, 메소드를 구현한 다른 객체에 위임해 버린다. -> 위의 그림에서 Introduction 빈은 Advised bean으로 기능을 위임함 -> 메소드가 추가된 거!\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"package\")]),t._v(\" concert\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"interface\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Encoreable\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"performEncore\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 앵콜 기능을 모든 Performance 구현체에 제공해보기\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"앵콜 기능을 추가로 개발을 하게 되었는데, 모든 Performance 구현체를 다 바꿀 수가 없다.\")]),t._v(\" \"),n(\"li\",[t._v(\"이럴때 쓰는게 AOP 인트로덕션!\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"package\")]),t._v(\" concert\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Aspect\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"EncoreableIntroducer\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@DeclareParents\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"value\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"concert.Performance+\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n                           defaultImpl\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"DefaultEncoreable\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"static\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Encoreable\")]),t._v(\" encoreable\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"새로운 EncoreableIntroducer 애스펙트인데, 기존과 달리 @Before 같은 어드바이스가 없다.\")]),t._v(\" \"),n(\"li\",[t._v(\"대신 DeclareParents 어노테이션을 사용해서, Performance빈에 Encoreable 인터페이스를 제공한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"DeclareParents 어노테이션\\n- value 애트리뷰트는 인터페이스를 제공하는 여러 빈을 식별한다. 위에선 Performance 구현체\\n- defaultImpl 애트리뷰트는 인트로덕션 구현체를 제공하는 클래스를 식별한다. 여기선 기본앵콜!\\n- DeclareParents로 어노테이션 되는 적정 프로퍼티는 도입 인터페이스를 지정한다. 여기선 encorable\\n\")])])]),n(\"h2\",{attrs:{id:\"_6-aspectj\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6-aspectj\"}},[t._v(\"#\")]),t._v(\" 6. AspectJ\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"스프링 AOP만으로 해결이 안되는 건 AspectJ로 해결이 가능하다.\")]),t._v(\" \"),n(\"li\",[t._v(\"실제로 AspectJ는 스프링을 위한거라기 보단 자바 어플리케이션을 위한 라이브러리 라고 보는게 맞다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"package\")]),t._v(\" concert\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" aspect \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"CriticAspect\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"CriticAspect\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \\n    pointcut \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"performace\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"excution\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"*\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"perform\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"afterRunning\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"performance\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Syso\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"criticismEngine\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"getCriticism\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"private\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"CriticismEngine\")]),t._v(\" criticismEngine\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"setCriticismEngine\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"CriticismEngine\")]),t._v(\" criticismEngine\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"criticismEngine \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" criticismEngine\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// CriticismEngine 주입\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"이렇게 짜면 모든 perform에 대해서 끝나고나면 (afterRunning) 비평을 시작하는 애스펙트를 얻게된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"문제는 심사위원 혼자서 평가하는게 아니라 CriticismEngine 객체와 같이 평가 (getCriticism())를 내린다.\")]),t._v(\" \"),n(\"li\",[t._v(\"CriticismEngine에 관한 레퍼런스는 위에선 세터 인젝션을 통해 얻게 된다.\")])]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:s(217),alt:\"Alt text\"}})]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"CriticismEngineImpl\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"implements\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"CriticismEngine\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 이렇게 CriticismEngine을 구현한 Impl 클래스도 만들어준다.\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"위에처럼 Impl 클래스도 구현이 되면, CriticismEngineImpl 을 CriticAspect로 와이어링을 해주면 끝나는데, AspectJ는 스프링이랑은 상관없이 애플리케이션에 위빙된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"이러한 문제를 막기위해, 위의 CriticAspect를 CriticismEngine 빈이 주입된 빈으로 설정해 주면 끝!\")])])])}),[],!1,null,null,null);a.default=e.exports}}]);","extractedComments":[]}
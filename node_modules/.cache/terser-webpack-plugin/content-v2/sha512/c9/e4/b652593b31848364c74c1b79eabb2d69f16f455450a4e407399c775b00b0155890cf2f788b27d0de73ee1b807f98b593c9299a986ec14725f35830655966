{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{487:function(t,s,a){t.exports=a.p+\"assets/img/messaging1.2e182913.jpg\"},488:function(t,s,a){t.exports=a.p+\"assets/img/messaging2.af620864.jpg\"},489:function(t,s,a){t.exports=a.p+\"assets/img/messaging3.d76d5a7c.jpg\"},490:function(t,s,a){t.exports=a.p+\"assets/img/messaging4.17d40889.jpg\"},491:function(t,s,a){t.exports=a.p+\"assets/img/messaging5.e3a8c38f.png\"},492:function(t,s,a){t.exports=a.p+\"assets/img/messaging6.5e6c7fae.jpg\"},493:function(t,s,a){t.exports=a.p+\"assets/img/messaging7.5d8c51d4.jpg\"},494:function(t,s,a){t.exports=a.p+\"assets/img/messaging8.ed3ebe27.jpg\"},495:function(t,s,a){t.exports=a.p+\"assets/img/messaging9.6399f6dc.jpg\"},628:function(t,s,a){\"use strict\";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[n(\"h1\",{attrs:{id:\"_17강\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_17강\"}},[t._v(\"#\")]),t._v(\" 17강\")]),t._v(\" \"),n(\"p\"),n(\"div\",{staticClass:\"table-of-contents\"},[n(\"ul\",[n(\"li\",[n(\"a\",{attrs:{href:\"#_1-비동기-메시징에-대한-간단한-소개\"}},[t._v(\"1. 비동기 메시징에 대한 간단한 소개\")]),n(\"ul\",[n(\"li\",[n(\"a\",{attrs:{href:\"#_1-1-메시지-보내기\"}},[t._v(\"1-1. 메시지 보내기\")])]),n(\"li\",[n(\"a\",{attrs:{href:\"#_1-2-비동기-메시징의-장점\"}},[t._v(\"1-2. 비동기 메시징의 장점\")])])])]),n(\"li\",[n(\"a\",{attrs:{href:\"#_2-jms로-메시지-보내기\"}},[t._v(\"2. JMS로 메시지 보내기\")]),n(\"ul\",[n(\"li\",[n(\"a\",{attrs:{href:\"#_2-1-스프링에서-메시지-브로커-셋업하기\"}},[t._v(\"2-1. 스프링에서 메시지 브로커 셋업하기\")])]),n(\"li\",[n(\"a\",{attrs:{href:\"#_2-2-스프링의-jms-템플릿-사용\"}},[t._v(\"2-2. 스프링의 JMS 템플릿 사용\")])]),n(\"li\",[n(\"a\",{attrs:{href:\"#_2-3-메세지-드리븐-pojo-작성\"}},[t._v(\"2-3. 메세지 드리븐 POJO 작성\")])]),n(\"li\",[n(\"a\",{attrs:{href:\"#_2-4-메세지-기반의-rpc-활용\"}},[t._v(\"2-4. 메세지 기반의 RPC 활용\")])])])]),n(\"li\",[n(\"a\",{attrs:{href:\"#_3-amqp를-이용한-메세징\"}},[t._v(\"3. AMQP를 이용한 메세징\")]),n(\"ul\",[n(\"li\",[n(\"a\",{attrs:{href:\"#_3-1-amqp에-대한-간략한-소개\"}},[t._v(\"3-1. AMQP에 대한 간략한 소개\")])]),n(\"li\",[n(\"a\",{attrs:{href:\"#_3-2-amqp-메세징을-위한-스프링-설정하기\"}},[t._v(\"3-2. AMQP 메세징을 위한 스프링 설정하기\")])]),n(\"li\",[n(\"a\",{attrs:{href:\"#_3-3-rabbittemplate으로-메세지-전송하기\"}},[t._v(\"3-3. RabbitTemplate으로 메세지 전송하기\")])]),n(\"li\",[n(\"a\",{attrs:{href:\"#_3-4-amqp-메세지-수신하기\"}},[t._v(\"3-4. AMQP 메세지 수신하기\")])])])])])]),n(\"p\"),t._v(\" \"),n(\"h2\",{attrs:{id:\"_1-비동기-메시징에-대한-간단한-소개\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-비동기-메시징에-대한-간단한-소개\"}},[t._v(\"#\")]),t._v(\" 1. 비동기 메시징에 대한 간단한 소개\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"RMI나 Hessian/Burlap 같은 리모팅 옵션은 동기식이다.\")]),t._v(\" \"),n(\"li\",[t._v(\"클라이언트가 원격 메소드를 호출하면 클라이언트는 이 호출이 완료 될 때까지 기다린다.\")]),t._v(\" \"),n(\"li\",[t._v(\"비동기식으로 메시지가 전달되면 클라이언트는 기다리지 않고 그냥 다음 일을 진행한다.\")])]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:a(487),alt:\"동기\"}})]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:a(488),alt:\"비동기\"}})]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_1-1-메시지-보내기\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-1-메시지-보내기\"}},[t._v(\"#\")]),t._v(\" 1-1. 메시지 보내기\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"비동기 메시징은 우편 보내는 것과 비슷하다.\")]),t._v(\" \"),n(\"li\",[t._v(\"우편은 보내놓고 우편이 돌아올떄까지 멍청하게 우체통 앞에 서있지 않는다.\")]),t._v(\" \"),n(\"li\",[t._v(\"이렇게 비동기는 간접성이 핵심이다.\")]),t._v(\" \"),n(\"li\",[t._v(\"비동기 메시징의 핵심 개념 두 가지는 메시지 중개자(message broker)와 목적지(destination) 이다.\")]),t._v(\" \"),n(\"li\",[t._v(\"메시지 중개자는 우체국이라고 보면된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"목적지를 우편에다 적듯이, 비동기 전송 메시지에도 '목적지'를 적어야 한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"메시징 시스템에는 큐와 토픽이라는 두 종류의 목적지가 있다.\")]),t._v(\" \"),n(\"li\",[t._v(\"큐는 지점대 지점 (point to point) 모델이 사용되고, 토픽에는 발행 구독 (pub-sub) 모델이 사용된다.\")])]),t._v(\" \"),n(\"h4\",{attrs:{id:\"지점-대-지점-메시징-모델-point-to-point\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#지점-대-지점-메시징-모델-point-to-point\"}},[t._v(\"#\")]),t._v(\" 지점 대 지점 메시징 모델 (point-to-point)\")]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:a(489),alt:\"pointopoint\"}})]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"위의 그림처럼 point to point 모델에서 각 메세지는 정확히 하나의 전송자와 수신자를 가진다.\")]),t._v(\" \"),n(\"li\",[t._v(\"메세지 브로커가 메세지를 받으면 해당 메세지를 큐에 넣어둔다.\")]),t._v(\" \"),n(\"li\",[t._v(\"그리고 수신자가 해당 메세지를 요청하면, 큐에서 메세지를 꺼내 수신자에게 전달을 한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"메세지 전송이 완료되면 큐에서 메세지가 삭제되므로 메세지는 반드시 하나의 수신자에게만 전달된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"실제로 메세지는 하나의 수신자에게 전달되지만, 수신자 자체가 하나라는 뜻은 아님\")]),t._v(\" \"),n(\"li\",[t._v(\"은행 창구 번호표를 생각하면 되는데, 은행 자리가 비게되면, 번호표를 들고있는 사람은 순서에 맞춰 은행 창구로 가게된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"똑같이 브로커는 어느 수신자에게 갈지는 모르지만, 먼저 요청하는 수신자(listen중)에게 메세지를 전달해 준다.\")])]),t._v(\" \"),n(\"h4\",{attrs:{id:\"발행-구독-메시징-모델-pub-sub\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#발행-구독-메시징-모델-pub-sub\"}},[t._v(\"#\")]),t._v(\" 발행 - 구독 메시징 모델 (pub-sub)\")]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:a(490),alt:\"pubsub\"}})]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"point to point 모델과는 다르게 pub-sub 모델은 메세지가 토픽에 전송되고, 구독자는 이걸 기다린다.\")]),t._v(\" \"),n(\"li\",[t._v(\"메세지를 하나의 수신자에게 전달하는 큐와는 달리, 토픽은 모든 구독자에게 같은 메세지의 사본을 보낸다.\")]),t._v(\" \"),n(\"li\",[t._v(\"이름에서 알듯이 잡지 구독처럼, 구독하는 모두에게 잡지를 주는거라고 보면된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"조금 다른점이라면 발행자는 자신의 메세지가 어느 구독자에게 발행이 되었는지 전혀 모른다.\")])]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_1-2-비동기-메시징의-장점\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-2-비동기-메시징의-장점\"}},[t._v(\"#\")]),t._v(\" 1-2. 비동기 메시징의 장점\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"동기식 통신은 매우 직관적이지만, 단점이 몇가지 존재한다.\\n\"),n(\"ul\",[n(\"li\",[t._v(\"동기식 통신은 대기가 필요 : 클라이언트가 특정 원격 API를 호출하면, 응답이 올 때까지 기다려야 한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"클라이언트와 원격 서비스의 인터페이스가 결합 : 서비스의 인터페이스가 변경되면 이 서비스의 모든 클라이언트 또한 변경되어야 한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"클라이언트와 원격 서비스의 위치가 결합 : 클라이언트는 서비스를 연결하려면 반드시 네트워크상의 위치를 알아야 한다. 네트워크 구성이 변화되면 재설정 필요\")]),t._v(\" \"),n(\"li\",[t._v(\"클라이언트는 원격 서비스의 이용 가능성에 영향을 받음 : 서비스가 갑자기 이용불가가 되면 클라이언트도 할게 없다.\")])])]),t._v(\" \"),n(\"li\",[t._v(\"비동기 통신은 이러한 문제를 해결해 준다.\\n\"),n(\"ul\",[n(\"li\",[t._v(\"대기 없음 : 비동기 메시징은 메세지가 처리되는건 물론이고 보내는것도 기다릴 필요가 없다. 브로커에다가 메세지만 보내면, 그 이후 일은 관심이 없다. -> 성능향상\")]),t._v(\" \"),n(\"li\",[t._v(\"메시지 기반과 결합도 제거 : 메소드 기반인 동기 통신과는 달리, 비동기로 전송하는 메세지는 데이터 중심이다. 즉 특정 메소드의 규격과는 상관이 없다. 클라이언트에서 브로커로 메세지 전달이 잘 되면, 구독자나 수신자도 해당 메세지를 잘 처리할 수 있으므로, 구독자나 수신자의 형식에 얽매이지 않는다.\")]),t._v(\" \"),n(\"li\",[t._v(\"위치 독립성 : 동기식은 목적지 IP가 바뀌면 클라이언트도 변경을 해줘야한다. 비동기는 누가 뭘처리하는지따윈 관심도없고 몰라서 서비스가 큐나 토픽에서 메세지를 잘 가져올수만 있다면, IP 주소같은건 관심이 없다.\")]),t._v(\" \"),n(\"li\",[t._v(\"전달 보증 : 동기식 통신은 원격서비스가 다운되면, 전달이 불가능하다. 비동기 방식은 원격 서비스가 내려가도, 메세지를 서비스가 다시 올라올 떄까지 들고 있어서 반드시 전달이 보증된다.\")])])])]),t._v(\" \"),n(\"h2\",{attrs:{id:\"_2-jms로-메시지-보내기\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-jms로-메시지-보내기\"}},[t._v(\"#\")]),t._v(\" 2. JMS로 메시지 보내기\")]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_2-1-스프링에서-메시지-브로커-셋업하기\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-1-스프링에서-메시지-브로커-셋업하기\"}},[t._v(\"#\")]),t._v(\" 2-1. 스프링에서 메시지 브로커 셋업하기\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"ActiveMQ (Apache 제공) 오픈소스 메시지 브로커 사용\")])]),t._v(\" \"),n(\"h4\",{attrs:{id:\"커넥션-팩토리-생성\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#커넥션-팩토리-생성\"}},[t._v(\"#\")]),t._v(\" 커넥션 팩토리 생성\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"메세지 브로커를 통해 메세지를 전송하기 위해선 JMS 커넥션 팩토리가 필요하다.\")]),t._v(\" \"),n(\"li\",[t._v(\"현재 사용할 브로커는 ActiveMQ이므로 JMS 팩토리에 ActiveMQ를 연결해야 한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"bean\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"connectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"org.apache.activemq.spring.ActiveMQConnectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"p:\")]),t._v(\"brokerURL\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"tcp://localhost:61616\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"스프링 설정 XML 파일에도 amq 네임스페이스를 선언해 준다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token prolog\"}},[t._v('<?xml version=\"1.0\" encoding=\"UTF-8\"?>')]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"beans\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"xmlns\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"http://www.springframework.org/schema/beans\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"xmlns:\")]),t._v(\"xsi\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"http://www.w3.org/2001/XMLSchema-instance\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"xmlns:\")]),t._v(\"jms\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"http://www.springframework.org/schema/jms\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"xmlns:\")]),t._v(\"amq\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"http://activemq.apache.org/schema/core\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"xsi:\")]),t._v(\"schemaLocation\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"http://activemq.apache.org/schema/core\\n     http://activemq.apache.org/schema/core/activemq-core.xsd\\n     http://www.springframework.org/schema/jms\\n     http://www.springframework.org/schema/jms/spring-jms.xsd\\n     http://www.springframework.org/schema/beans\\n     http://www.springframework.org/schema/beans/spring-beans.xsd\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n   ...\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"beans\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"amq 요소를 통해 컨넥션 팩토리를 생성\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"amq:\")]),t._v(\"connectionFactory\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"connectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n                       \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"brokerURL\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"tcp://localhost:61616\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"h4\",{attrs:{id:\"activemq-메세지-목적지-선언\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#activemq-메세지-목적지-선언\"}},[t._v(\"#\")]),t._v(\" ActiveMQ 메세지 목적지 선언\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"커넥션 설정이 완료되었으므로, 큐나 토픽과 같은 목적지 설정이 필요하다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"bean\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"queue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"org.apache.activemq.command.ActiveMQQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"c:\")]),t._v(\"_\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spitter.queue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"큐 설정\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"bean\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"topic\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"org.apache.activemq.command.ActiveMQTopic\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"c:\")]),t._v(\"_\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spitter.queue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"토픽 설정\")])]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_2-2-스프링의-jms-템플릿-사용\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-2-스프링의-jms-템플릿-사용\"}},[t._v(\"#\")]),t._v(\" 2-2. 스프링의 JMS 템플릿 사용\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"JMS는 메세지 브로커와의 상호작용 및 메세지 전송/수신을 위한 표준 자바 API를 제공한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"대부분의 오픈소스 메세지 브로커는 JMS를 지원하므로 특정 솔류션만의 독자적인 메세진 API를 따로 익힐 필요는 없다.\")])]),t._v(\" \"),n(\"h4\",{attrs:{id:\"지저분한-jms-코드-공략\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#지저분한-jms-코드-공략\"}},[t._v(\"#\")]),t._v(\" 지저분한 JMS 코드 공략\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"JDBC 설정마냥 JMS 설정도 매우 더럽다\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ConnectionFactory\")]),t._v(\" cf \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ActiveMQConnectionFactory\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"tcp://localhost:61616\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Connection\")]),t._v(\" conn \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Session\")]),t._v(\" session \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"try\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  conn \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" cf\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createConnection\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  session \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" conn\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createSession\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"false\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Session\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"AUTO_ACKNOWLEDGE\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Destination\")]),t._v(\" destination \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ActiveMQQueue\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"spitter.queue\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"MessageProducer\")]),t._v(\" producer \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" session\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createProducer\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"destination\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"TextMessage\")]),t._v(\" message \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" session\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createTextMessage\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n  message\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"setText\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"Hello world!\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  producer\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"send\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"message\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\t\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 메세지 전송\")]),t._v(\"\\n \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"catch\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"JMSException\")]),t._v(\" e\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// handle exception?\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"finally\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"try\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"session \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"!=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      session\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"close\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"conn \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"!=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      conn\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"close\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"catch\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"JMSException\")]),t._v(\" ex\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"메세지 전송 로직\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ConnectionFactory\")]),t._v(\" cf \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ActiveMQConnectionFactory\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"tcp://localhost:61616\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Connection\")]),t._v(\" conn \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Session\")]),t._v(\" session \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"try\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  conn \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" cf\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createConnection\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  conn\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"start\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  session \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" conn\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createSession\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"false\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Session\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"AUTO_ACKNOWLEDGE\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Destination\")]),t._v(\" destination \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ActiveMQQueue\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"spitter.queue\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"MessageConsumer\")]),t._v(\" consumer \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" session\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createConsumer\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"destination\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Message\")]),t._v(\" message \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" consumer\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"receive\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"TextMessage\")]),t._v(\" textMessage \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"TextMessage\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" message\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"System\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"out\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"println\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"GOT A MESSAGE: \"')]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" textMessage\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"getText\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  conn\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"start\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"catch\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"JMSException\")]),t._v(\" e\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// handle exception?\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"finally\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"try\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"session \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"!=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      session\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"close\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"conn \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"!=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      conn\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"close\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"catch\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"JMSException\")]),t._v(\" ex\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"메세지 수신 로직\")]),t._v(\" \"),n(\"li\",[t._v(\"보는바와 같이 핵심로직은 몇줄 안되고 기타 잡설정들이 매우 길다.\")]),t._v(\" \"),n(\"li\",[t._v(\"이럴 때 이용하는게 JMS 템플릿이다.\")])]),t._v(\" \"),n(\"h4\",{attrs:{id:\"jms-템플릿-활용\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#jms-템플릿-활용\"}},[t._v(\"#\")]),t._v(\" JMS 템플릿 활용\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"jmsTemplate은 커넥션을 생성하고 세션을 획득하고, 메세지 전송 수신 작업을 실행한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"실제로 개발자가 할 작업은 전송할 메세지를 생성하는 일과, 수신한 메세지를 처리하는 일만 하면 된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"또한 JMSException 또한 알아서 처리해주는 장점이 있다.\")])]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:a(491),alt:\"jmstemplate\"}})]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"jmsTemplate 설정을 위해 스프링 빈 설정이 필요하다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"bean\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"jmsTemplate\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"org.springframework.jms.core.JmsTemplate\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"c:\")]),t._v(\"_-ref\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"connectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"h4\",{attrs:{id:\"메세지-전송\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#메세지-전송\"}},[t._v(\"#\")]),t._v(\" 메세지 전송\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"spittle에서 비동기로 메세지를 전송하는 예시\")]),t._v(\" \"),n(\"li\",[t._v(\"AlertService 인터페이스를 생성한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"package\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"com\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"habuma\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"spittr\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"alerts\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"import\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"com\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"habuma\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"spittr\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"domain\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"interface\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"AlertService\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sendSpittleAlert\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),t._v(\" spittle\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"AlertServiceImpl\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"implements\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"AlertService\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"private\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"JmsOperations\")]),t._v(\" jmsOperations\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Autowired\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"AlertServiceImpl\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"JmsOperations\")]),t._v(\" jmsOperatons\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\t\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// JMS 템플릿 주입\")]),t._v(\"\\n     \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"jmsOperations \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" jmsOperations\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sendSpittleAlert\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"final\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),t._v(\" spittle\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    jmsOperations\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"send\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\t \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 메세지 전송\")]),t._v(\"\\n       \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"spittle.alert.queue\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\t\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 목적지 지정\")]),t._v(\"\\n       \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"MessageCreator\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Message\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createMessage\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Session\")]),t._v(\" session\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n                \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"throws\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"JMSException\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" session\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createObjectMessage\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"spittle\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\t\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 메세지 생성\")]),t._v(\"\\n         \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"JmsTemplate의 send 메소드의 첫 번째 파라미터는 메세지가 전송될 목적지다.\")]),t._v(\" \"),n(\"li\",[t._v(\"send() 메소드가 호출되면 JmsTemplate은 JMS 커넥션과 세션을 획득하고, 이를 이용해 전송자 대신 메세지를 전송한다.\")])]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:a(492),alt:\"jms\"}})]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"두번쨰 파라미터는 메세지로, MessageCreator로 특정 메세지를 만들어 준다.\")])]),t._v(\" \"),n(\"h4\",{attrs:{id:\"기본-목적지-설정\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#기본-목적지-설정\"}},[t._v(\"#\")]),t._v(\" 기본 목적지 설정\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"위의 소스는 목적지를 명시적으로 지정해 주었다.\")]),t._v(\" \"),n(\"li\",[t._v(\"매번 명시적인 목적지를 설정해주기 보단 default 설정을 해주면 ㅍ녀하다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"bean\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"jmsTemplate\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"org.springframework.jms.core.JmsTemplate\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"c:\")]),t._v(\"_-ref\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"connectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"p:\")]),t._v(\"defaultDestinationName\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spittle.alert.queue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"만약 보낼 목적지인 큐나 토픽이 기생성되어 있다면, 해당 목적지 빈 또는 큐에 대한 레퍼런스로 와이어링 해도 된다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"bean\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"jmsTemplate\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"org.springframework.jms.core.JmsTemplate\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"c:\")]),t._v(\"_-ref\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"connectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"p:\")]),t._v(\"defaultDestination-ref\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spittleTopic\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"이렇게 목적지를 설정해 주면, 조금더 간단하게 send() 메소드를 쓸 수 있다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[t._v(\"jmsOperations\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"send\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 목적지 정보 필요 없음\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"MessageCreator\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),n(\"h4\",{attrs:{id:\"전송-시-메세지-변환\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#전송-시-메세지-변환\"}},[t._v(\"#\")]),t._v(\" 전송 시 메세지 변환\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"jmsTemplate은 convertAndSend() 메소드를 제공한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"MessageCreator가 아닌 사용자를 위한 메세지를 생성하기 위해 빌트인 메세지 변환기를 사용한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sendSpittleAlert\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),t._v(\" spittle\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  jmsOperations\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"convertAndSend\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"spittle\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"이렇게 설정하면, spittle 객체는 전송되기 전에 메세지로 변환된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"객체를 메세지로 변환하기 위해서는 MessageConverter 구현체를 사용해야 한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"interface\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"MessageConverter\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Message\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"toMessage\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Object\")]),t._v(\" object\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Session\")]),t._v(\" session\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n                   \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"throws\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"JMSException\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"MessageConversionException\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Object\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"fromMessage\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Message\")]),t._v(\" message\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n                   \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"throws\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"JMSException\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"MessageConversionException\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"스프링은 다음과 같은 메세지 컨버터를 제공한다.\")])]),t._v(\" \"),n(\"table\",[n(\"thead\",[n(\"tr\",[n(\"th\",[t._v(\"메세지 변환기\")]),t._v(\" \"),n(\"th\",[t._v(\"동작 내용\")])])]),t._v(\" \"),n(\"tbody\",[n(\"tr\",[n(\"td\",[t._v(\"MappingJacksonMessageConverter\")]),t._v(\" \"),n(\"td\",[t._v(\"메세지를 JSON으로 변환하기 위해서 또는 그 역으로 동작하기 위해서 Jackson JSON 라이브러리를 사용한다\")])]),t._v(\" \"),n(\"tr\",[n(\"td\",[t._v(\"MappingJackson2MessageConverter\")]),t._v(\" \"),n(\"td\",[t._v(\"메세지를 JSON으로 변환하기 위해서 또는 그 역으로 동작하기 위해서 Jackson 2 JSON 라이브러리를 사용한다\")])]),t._v(\" \"),n(\"tr\",[n(\"td\",[t._v(\"MarshallingMessageConverter\")]),t._v(\" \"),n(\"td\",[t._v(\"메세지를 XML로 변환하기 위해서 또는 그 역으로 동작하기 위해서 JAXB를 사용한다\")])]),t._v(\" \"),n(\"tr\",[n(\"td\",[t._v(\"SimpleMessagConverter\")]),t._v(\" \"),n(\"td\",[t._v(\"문자열을 TextMessage로 변환하거나 그 역으로 변환한다. 바이트 배열을 ByteMessage로 변환하거나 그 역으로 변환한다. 맵을 MapMessage로 변환하거나 그 역으로 변환한다. 직렬화 가능 객체를 ObjectMessage로 변환하거나 그 역으로 변환한다\")])])])]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"convertAndSend() 에서 메세지를 전송할 때 JmsTemplate은 기본적으로 SimpleMessagConverter를 사용한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"다른걸 쓰고싶으면 메세지 변환기를 빈으로 선언하고 messageConverter에 해당 빈을 주입해주면 된다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"bean\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"messageConverter\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"org.springframework.jms.support.converter.\\n                             MappingJacksonMessageConverter\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"bean\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"jmsTemplate\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"org.springframework.jms.core.JmsTemplate\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"c:\")]),t._v(\"_-ref\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"connectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"p:\")]),t._v(\"defaultDestinationName\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spittle.alert.queue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"p:\")]),t._v(\"messageConverter-ref\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"messageConverter\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"h4\",{attrs:{id:\"메세지-소비\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#메세지-소비\"}},[t._v(\"#\")]),t._v(\" 메세지 소비\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"JmsTemplate을 수신에도 쓸 수 있다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"receiveSpittleAlert\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"try\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ObjectMessage\")]),t._v(\" receivedMessage \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ObjectMessage\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" jmsOperations\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"receive\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\t\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 메세지 수신\")]),t._v(\"\\n\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" receivedMessage\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"getObject\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\t\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 객체 얻기\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"catch\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"JMSException\")]),t._v(\" jmsException\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"throw\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"JmsUtils\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"convertJmsAccessException\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"jmsException\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\t\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 변환된 예외 던지기\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"JmsTemplate의 receive() 메소드가 호출되면 메세지 브로커로부터 메세지 조회를 시도한다\")]),t._v(\" \"),n(\"li\",[t._v(\"도착한게 없으면 올때까지 대기하게 된다.\")])]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:a(493),alt:\"receive\"}})]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"발신과 마찬가지로, 수신도 메세지 컨버터를 사용 할 수 있다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"retrieveSpittleAlert\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" jmsOperations\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"receiveAndConvert\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"이렇게 사용하면 따로 캐스팅할 필요도 없고, JMSException을 사용할 필요도 없고 훨씬 깔끔해진다.\")]),t._v(\" \"),n(\"li\",[t._v(\"JmsTemplate을 이용한 메세지 소비의 문제는 receive()와 receiveAndConvert() 메소드가 동기식이라는 점이다.\")]),t._v(\" \"),n(\"li\",[t._v(\"이러한 문제를 해결하기 위해 메시지 드리븐 POJO를 사용한다.\")])]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_2-3-메세지-드리븐-pojo-작성\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-3-메세지-드리븐-pojo-작성\"}},[t._v(\"#\")]),t._v(\" 2-3. 메세지 드리븐 POJO 작성\")]),t._v(\" \"),n(\"h4\",{attrs:{id:\"메세지-리스너-생성\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#메세지-리스너-생성\"}},[t._v(\"#\")]),t._v(\" 메세지 리스너 생성\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"민액 EJB의 메세지 드리븐 모델을 이용해 알람 핸들러를 만들면, @MessageDriven 어노테이션을 적용해야 한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@MessageDriven\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"mappedName\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"jms/spittle.alert.queue\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"SpittleAlertHandler\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"implements\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"MessageListener\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Resource\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"private\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"MessageDrivenContext\")]),t._v(\" mdc\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"onMessage\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Message\")]),t._v(\" message\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n     \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"이러면 결합도가 너무 높아지는 문제가 있다.\")]),t._v(\" \"),n(\"li\",[t._v(\"스프링 MDP는 POJO만 구현하면 된다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"package\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"com\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"habuma\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"spittr\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"alerts\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"import\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"com\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"habuma\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"spittr\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"domain\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"SpittleAlertHandler\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"handleSpittleAlert\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),t._v(\" spittle\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\t\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 핸들러 메소드\")]),t._v(\"\\n     \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ... implementation goes here...\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"h4\",{attrs:{id:\"메세지-리스너-설정\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#메세지-리스너-설정\"}},[t._v(\"#\")]),t._v(\" 메세지 리스너 설정\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"메세지 수신 기능을 POJO에 부여하는 방법은 스프링에 메세지 리스너로 설정하는 것\")]),t._v(\" \"),n(\"li\",[t._v(\"jms 네임스페이스를 사용한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"bean\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spittleHandler\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"com.habuma.spittr.alerts.SpittleAlertHandler\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"해당 POJO를 메세지 리스너로 되도록 선언\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"jms:\")]),t._v(\"listener-container\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"connection-factory\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"connectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"jms:\")]),t._v(\"listener\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"destination\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spitter.alert.queue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n       \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"ref\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spittleHandler\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"method\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"handleSpittleAlert\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"jms:\")]),t._v(\"listener-container\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"메세지 리스너 컨테이너 안에 메세지 리스너가 생성된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"메세지 리스너 컨테이너는 메세지 도착을 기다리다가 메세지가 도착하면 검색해서 메세지 리스너에게 메세지를 던져준다.\")])]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:a(494),alt:\"messaging\"}})]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_2-4-메세지-기반의-rpc-활용\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-4-메세지-기반의-rpc-활용\"}},[t._v(\"#\")]),t._v(\" 2-4. 메세지 기반의 RPC 활용\")]),t._v(\" \"),n(\"h4\",{attrs:{id:\"jms-기반의-서비스-익스포팅\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#jms-기반의-서비스-익스포팅\"}},[t._v(\"#\")]),t._v(\" JMS 기반의 서비스 익스포팅\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"JmsInvokerServiceExporter는 다른 서비스 익스포터와 거의 비슷하다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Component\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"alertService\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"AlertServiceImpl\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"implements\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"AlertService\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"private\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"JavaMailSender\")]),t._v(\" mailSender\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"private\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"String\")]),t._v(\" alertEmailAddress\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"AlertServiceImpl\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"JavaMailSender\")]),t._v(\" mailSender\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n                          \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"String\")]),t._v(\" alertEmailAddress\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"mailSender \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" mailSender\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"alertEmailAddress \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" alertEmailAddress\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sendSpittleAlert\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"final\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),t._v(\" spittle\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\t\\n     \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"SimpleMailMessage\")]),t._v(\" message \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"SimpleMailMessage\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"String\")]),t._v(\" spitterName \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" spittle\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"getSpitter\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"getFullName\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    message\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"setFrom\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"noreply@spitter.com\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    message\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"setTo\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"alertEmailAddress\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    message\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"setSubject\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"New spittle from \"')]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" spitterName\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    message\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"setText\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"spitterName \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\" says: \"')]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" spittle\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"getText\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    mailSender\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"send\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"message\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"  \\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"interface\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"AlertService\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sendSpittleAlert\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),t._v(\" spittle\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"AlertServiceImpl을 구현하고\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"bean\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"alertServiceExporter\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"org.springframework.jms.remoting.JmsInvokerServiceExporter\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"p:\")]),t._v(\"service-ref\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"alertService\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"p:\")]),t._v(\"serviceInterface\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"com.habuma.spittr.alerts.AlertService\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"JmsInvokerServiceExporter는 이 빈을 참조하게 된다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"jms:\")]),t._v(\"listener-container\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"connection-factory\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"connectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"jms:\")]),t._v(\"listener\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"destination\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spitter.alert.queue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n                   \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"ref\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"alertServiceExporter\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"jms:\")]),t._v(\"listener-container\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"JmsInvokerServiceExporter를 JMS 리스너로 등록해준다.\")])]),t._v(\" \"),n(\"h4\",{attrs:{id:\"jms-기반의-서비스-소비\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#jms-기반의-서비스-소비\"}},[t._v(\"#\")]),t._v(\" JMS 기반의 서비스 소비\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"클라이언트는 JmsInvokerProxyFactoryBean을 이용해 서비스에 액세스 한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"RMI 와 거의 동일하다.\")]),t._v(\" \"),n(\"li\",[t._v(\"해당 알람 서비스를 소비하려면 다음과 같이 JmsInvokerProxyFactoryBean 을 설정해 줘야 한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"bean\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"alertService\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"org.springframework.jms.remoting.JmsInvokerProxyFactoryBean\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"p:\")]),t._v(\"connectionFactory-ref\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"connectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"p:\")]),t._v(\"queueName\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spittle.alert.queue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"propp:\")]),t._v(\"serviceInterface\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"com.habuma.spittr.alerts.AlertService\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"h2\",{attrs:{id:\"_3-amqp를-이용한-메세징\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-amqp를-이용한-메세징\"}},[t._v(\"#\")]),t._v(\" 3. AMQP를 이용한 메세징\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"JMS는 API 규격을 정의하고, AMQP는 메세징을 위한 와이어 수준의 프로토콜을 정의한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"좀더 유연하고, 투명 메세징 모델을 가지고 있다.\")])]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_3-1-amqp에-대한-간략한-소개\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-1-amqp에-대한-간략한-소개\"}},[t._v(\"#\")]),t._v(\" 3-1. AMQP에 대한 간략한 소개\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"AMQP 메세징 모델의 생산자는 큐에 직접 발행(pub) 하지 않는다.\")]),t._v(\" \"),n(\"li\",[t._v(\"생산자와 큐 사이에 메세지를 전달하기 위한 새로운 간접적인 방법을 제시한다.\")])]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:a(495),alt:\"amqp\"}})]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"메세지 생성자는 교환을 위해 메세지를 발행한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"교환은 하나 이상의 큐에 적용되고, 메세지는 큐로 전달되게 된다.\")]),t._v(\" \"),n(\"li\",[t._v(\"소비자는 그 큐에서 메세지를 가져와 처리한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"AMQP는 큐에 메세지를 배치할지에 대한 여부를 결정하는 다른 라우팅 알고리즘을 사용하여 교환의 네가지 유형을 정의한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"해당 알고리즘에 따라 큐로 라우팅이 되거나, 혹은 되지 않는다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"AMQP 교환의 네 가지 표준 유형\\n\\n1. 다이렉트 : 라우팅 키가 바인딩을 위한 라우팅 키 대상으로 다이렉트 매칭이 될 경우, 메세지가 큐에 연결된다.\\n2. 토픽 : 라우팅 키가 바인딩을 위한 라우팅 키 대상으로 와일드카드 매칭이 될 경우에 메세지가 큐에 연결된다.\\n3. 헤더 : 인자의 테이블 내 값과 헤더가 인자의 바인딩 테이블과 일치하는 경우에 메세지가 큐에 연결된다.\\n         x-match라는 특별 헤더는 모든 값이 매칭되거나 아니면 일부분 만이 매칭되는지를 지정하기 위해 사용된다.\\n4. 팬아웃 : 인자의 테이블 내 헤더/값 또는 라우팅 키에 상관없이 메세지는 교환될 모든 큐에 연결된다.\\n\")])])]),n(\"h3\",{attrs:{id:\"_3-2-amqp-메세징을-위한-스프링-설정하기\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-2-amqp-메세징을-위한-스프링-설정하기\"}},[t._v(\"#\")]),t._v(\" 3-2. AMQP 메세징을 위한 스프링 설정하기\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"커넥션 팩토리를 설정해 스프링 AMQP를 사용한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"custom-block tip\"},[n(\"p\",{staticClass:\"custom-block-title\"},[t._v(\"TIP\")]),t._v(\" \"),n(\"p\",[t._v(\"RabbitMQ란 ?\")]),t._v(\" \"),n(\"p\",[t._v(\"RabbitMQ는 AMQP를 지원하는 오픈소스 메세지 브로커. 스프링 AMQP는 RabbitMQ를 지원하며, RabbitMQ 커넥션 팩토리, 템플릿등을 지원한다.\")])]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"RabbitMQ 팩토리 설정을 위해 xml 네임스페이스를 추가해준다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token prolog\"}},[t._v('<?xml version=\"1.0\" encoding=\"UTF-8\"?>')]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"beans:\")]),t._v(\"beans\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"xmlns\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"http://www.springframework.org/schema/rabbit\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"xmlns:\")]),t._v(\"beans\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"http://www.springframework.org/schema/beans\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"xmlns:\")]),t._v(\"xsi\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"http://www.w3.org/2001/XMLSchema-instance\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"xsi:\")]),t._v(\"schemaLocation\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"http://www.springframework.org/schema/rabbit\\n   http://www.springframework.org/schema/rabbit/spring-rabbit-1.0.xsd\\n    http://www.springframework.org/schema/beans\\n    http://www.springframework.org/schema/beans/spring-beans.xsd\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\n...\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"beans:\")]),t._v(\"beans\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\")])])]),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"connection-factory\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"connectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"host\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"${rabbitmq.host}\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"port\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"${rabbitmq.port}\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"username\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"${rabbitmq.username}\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"password\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"${rabbitmq.password}\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"h4\",{attrs:{id:\"큐의-선언-교환-바인딩\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#큐의-선언-교환-바인딩\"}},[t._v(\"#\")]),t._v(\" 큐의 선언, 교환, 바인딩\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"rabbit 네임스페이스는 큐의 선언, 교환, 상호 간에 엮기 위한 바인딩 선언을 지원하기 위한 요소들을 지원한다.\")])]),t._v(\" \"),n(\"table\",[n(\"thead\",[n(\"tr\",[n(\"th\",[t._v(\"요소\")]),t._v(\" \"),n(\"th\",[t._v(\"동작\")])])]),t._v(\" \"),n(\"tbody\",[n(\"tr\",[n(\"td\",[n(\"code\",[t._v(\"<\")]),t._v(\"queue\"),n(\"code\",[t._v(\">\")])]),t._v(\" \"),n(\"td\",[t._v(\"큐 생성\")])]),t._v(\" \"),n(\"tr\",[n(\"td\",[n(\"code\",[t._v(\"<\")]),t._v(\"fanout-exchange\"),n(\"code\",[t._v(\">\")])]),t._v(\" \"),n(\"td\",[t._v(\"팬아웃 교환 생성\")])]),t._v(\" \"),n(\"tr\",[n(\"td\",[n(\"code\",[t._v(\"<\")]),t._v(\"header-exchange\"),n(\"code\",[t._v(\">\")])]),t._v(\" \"),n(\"td\",[t._v(\"헤더 교환 생성\")])]),t._v(\" \"),n(\"tr\",[n(\"td\",[n(\"code\",[t._v(\"<\")]),t._v(\"topic-exchange\"),n(\"code\",[t._v(\">\")])]),t._v(\" \"),n(\"td\",[t._v(\"토픽 교환 생성\")])]),t._v(\" \"),n(\"tr\",[n(\"td\",[n(\"code\",[t._v(\"<\")]),t._v(\"direct-exchange\"),n(\"code\",[t._v(\">\")])]),t._v(\" \"),n(\"td\",[t._v(\"다이렉트 교환 생성\")])]),t._v(\" \"),n(\"tr\",[n(\"td\",[n(\"code\",[t._v(\"<\")]),t._v(\"bindings\"),n(\"code\",[t._v(\">\")])]),t._v(\" \"),n(\"td\",[t._v(\"bindings 요소는 하나이상의 binding 요소 세트를 정의\")])])])]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"위의 설정 요소는 \"),n(\"code\",[t._v(\"<\")]),t._v(\"admin\"),n(\"code\",[t._v(\">\")]),t._v(\" 요소와 함꼐 쓰인다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"admin\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"connection-factory\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"connectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n \"),n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"queue\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spittleAlertQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"name\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spittle.alerts\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"h3\",{attrs:{id:\"_3-3-rabbittemplate으로-메세지-전송하기\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-3-rabbittemplate으로-메세지-전송하기\"}},[t._v(\"#\")]),t._v(\" 3-3. RabbitTemplate으로 메세지 전송하기\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"RabbitMQ 커넥션 팩토리는 RabbitMQ와 연결하기 위해 필요하다.\")]),t._v(\" \"),n(\"li\",[t._v(\"귀찮은 짓을 없애기 위해 역시나 RabbitTemplate을 제공한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"template\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"rabbitTemplate\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n           \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"connection-factory\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"connectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"AlertServiceImpl\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"implements\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"AlertService\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"private\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"RabbitTemplate\")]),t._v(\" rabbit\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[t._v(\"@Autowired\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"AlertServiceImpl\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"RabbitTemplate\")]),t._v(\" rabbit\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"rabbit \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" rabbit\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sendSpittleAlert\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),t._v(\" spittle\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    rabbit\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"convertAndSend\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"spittle.alert.exchange\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n                          \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"spittle.alerts\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n                          spittle\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"JMS와 동일하게 convertAndSend() 메소드를 제공해 준다.\")]),t._v(\" \"),n(\"li\",[t._v(\"세개의 파라미터를 전송하는데, 교환명, 라우팅 키, 전송 객체를 넘겨준다.\")]),t._v(\" \"),n(\"li\",[t._v(\"때에 따라 교환명, 라우팅 키는 생략 될 수있다. -> 디폴트 설정 필요\")]),t._v(\" \"),n(\"li\",[t._v(\"JMS와 마찬가지로 메세지 컨버터를 지원해 준다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Message\")]),t._v(\" helloMessage \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Message\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"Hello World!\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"getBytes\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"MessageProperties\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nrabbit\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"send\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"hello.exchange\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"hello.routing\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" helloMessage\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"send()도 물론 사용 가능\")])]),t._v(\" \"),n(\"h3\",{attrs:{id:\"_3-4-amqp-메세지-수신하기\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-4-amqp-메세지-수신하기\"}},[t._v(\"#\")]),t._v(\" 3-4. AMQP 메세지 수신하기\")]),t._v(\" \"),n(\"h4\",{attrs:{id:\"rabbittemplate을-사용하여-메세지-수신하기\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#rabbittemplate을-사용하여-메세지-수신하기\"}},[t._v(\"#\")]),t._v(\" RabbitTemplate을 사용하여 메세지 수신하기\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"비슷하게 receive()를 사용한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Message\")]),t._v(\" message \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" rabbit\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"receive\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"spittle.alert.queue\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"queue를 기본 설정으로 빼주기도 가능\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"template\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"rabbitTemplate\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"connection-factory\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"connectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"exchange\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spittle.alert.exchange\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"routing-key\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spittle.alerts\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"queue\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spittle.alert.queue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"따로 receive() 메소드에서 큐 설정이 필요 없다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Message\")]),t._v(\" message \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" rabbit\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"receive\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"receiveAndConvert() 사용도 가능\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),t._v(\" spittle \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" rabbit\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"receiveAndConvert\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"spittle.alert.queue\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"receive()와 receiveAndConvert()에 대한 호출은 규에 대기중인 메세지가 없을 경우 null을 반환한다.\")]),t._v(\" \"),n(\"li\",[t._v(\"역시나 동기방식이라 JMS와 동일하게 POJO형태로 비동기를 지원해준다.\")])]),t._v(\" \"),n(\"h4\",{attrs:{id:\"메세지-구동형-amqp-pojo-정의하기\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#메세지-구동형-amqp-pojo-정의하기\"}},[t._v(\"#\")]),t._v(\" 메세지 구동형 AMQP POJO 정의하기\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"수신 역할을 할 핸들러 POJO를 생성한다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-java extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"package\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"com\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"habuma\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"spittr\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"alerts\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"import\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"com\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"habuma\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"spittr\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"domain\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"SpittleAlertHandler\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"handleSpittleAlert\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Spittle\")]),t._v(\" spittle\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ... implementation goes here ...\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"ul\",[n(\"li\",[t._v(\"리스너 컨테이너와 리스터 설정을 해준다.\")])]),t._v(\" \"),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"bean\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spittleListener\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"com.habuma.spittr.alert.SpittleAlertHandler\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),n(\"div\",{staticClass:\"language-xml extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"listener-container\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"connection-factory\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"connectionFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"listener\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"ref\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spittleListener\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"method\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"handleSpittleAlert\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"queue-names\")]),n(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"spittle.alert.queue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"listener-container\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);","extractedComments":[]}